(function(e){function t(t){for(var n,o,a=t[0],u=t[1],c=t[2],d=0,f=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==i[u]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={app:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/courses/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"034f":function(e,t,r){"use strict";var n=r("85ec"),i=r.n(n);i.a},"06ef":function(e,t,r){},"08de":function(e,t,r){"use strict";var n=r("13f3"),i=r.n(n);i.a},"0db6":function(e,t,r){"use strict";var n=r("7bda"),i=r.n(n);i.a},"13f3":function(e,t,r){},"289f":function(e,t,r){},3344:function(e,t,r){},"49d9":function(e,t,r){},5637:function(e,t,r){},5897:function(e,t,r){"use strict";var n=r("49d9"),i=r.n(n);i.a},"5c96":function(e,t,r){"use strict";var n=r("5637"),i=r.n(n);i.a},"5d8d":function(e,t,r){"use strict";var n=r("06ef"),i=r.n(n);i.a},6415:function(e,t,r){"use strict";var n=r("d1a9"),i=r.n(n);i.a},"74d6":function(e,t,r){"use strict";var n=r("a946"),i=r.n(n);i.a},"7bda":function(e,t,r){},"85ec":function(e,t,r){},a946:function(e,t,r){},b57a:function(e,t,r){"use strict";var n=r("d10d"),i=r.n(n);i.a},b96d:function(e,t,r){"use strict";var n=r("e105"),i=r.n(n);i.a},cd49:function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},s=[],o=n["a"].extend({}),a=o,u=(r("034f"),r("2877")),c=Object(u["a"])(a,i,s,!1,null,null,null),l=c.exports,d=r("9483");Object(d["a"])("/courses/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var f=r("8c4f"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",[r("aside",{staticClass:"requirements"},[r("requirement-search-vue",{attrs:{disable:!e.road},on:{"load-requirement":e.add_requirement}}),e.road?r("section",{staticClass:"reqs"},e._l(e.requirements,(function(t,n){return r("requirement-tree-vue",{key:"Requirement "+t.name,attrs:{requirements:t,idx:n},on:{"remove-requirement":function(t){return e.remove_req(n)},"req-override":e.override}})})),1):r("section",[r("i",[e._v("Add some requirements!")])])],1),r("div",{staticClass:"gutter"}),r("section",[r("span",{staticClass:"header"},[r("search-vue",{staticClass:"search",on:{"load-course":e.inspect}})],1),r("nav",{staticClass:"roads"},[r("span",{staticClass:"road-list"},[e.road?e._l(e.roadNames,(function(t,n){return r("span",{key:n,staticClass:"road-title",attrs:{selected:e.road.name===t},on:{click:function(t){return e.view(n)},dblclick:function(t){return e.edit(n)}}},[e.editing!==n?r("p",{staticClass:"road-title"},[r("b",[e._v(e._s(t))]),r("action-button-vue",{attrs:{close:!0},on:{"button-click":function(t){return e.remove_road(n)}}})],1):r("input",{directives:[{name:"model",rawName:"v-model",value:e.editingText,expression:"editingText"}],attrs:{type:"text",name:"road-editor",id:"road-editor"},domProps:{value:e.editingText},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.finish_editing(t)},blur:e.finish_editing,click:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.editingText=t.target.value)}}})])})):r("i",[e._v("Create a new road! ---\x3e")])],2),r("action-button-vue",{attrs:{close:!1},on:{"button-click":e.new_road}})],1),e.road?r("div",{staticStyle:{overflow:"auto"}},[r("article",{staticClass:"road-display"},[r("svg",{directives:[{name:"show",rawName:"v-show",value:e.graph_mode,expression:"graph_mode"}],attrs:{id:"graph"}}),r("prior-credit-vue",{attrs:{classes:e.prior_credit,placing:e.inspecting},on:{"load-course":e.inspect,"place-course":function(t){return e.place(-1,0)},"remove-course":e.remove_course,"graph-redraw":e.graph_redraw}}),e._l(e.years,(function(t,n){return r("year-vue",{key:"year "+n,attrs:{year:t,idx:n,placing:e.inspecting,allowed:e.allowed},on:{"load-course":e.inspect,"place-course":function(t){return e.place(n,t)},"remove-course":e.remove_course,"graph-redraw":e.graph_redraw,"force-sat":function(t){return e.toggle_sat(t)}}})}))],2)]):r("article",{staticClass:"no-roads"},[r("i",[e._v("Let's get started!")])])]),r("transition",{attrs:{name:"fade"}},[e.inspecting?r("info-vue",{staticClass:"info",attrs:{id:e.inspecting,max:e.maximize_info,idx:e.inspect_index,length:e.inspection_history.length},on:{"close-info":function(t){e.inspecting=""},"toggle-max":e.toggle_max,"push-course":e.push_course,"next-course":e.next_course,"prev-course":e.prev_course}}):e._e()],1)],1)},_=[],p=r("9ab4"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"prior-credit"},[r("span",{staticClass:"prior-credit-header",attrs:{collapsed:e.collapse},on:{click:e.toggle_collapse}},[r("b",[e._v("Prior Credit")]),r("p",[e._v(e._s(e.unit_count))]),r("span",{staticClass:"spacer"}),e.collapse?r("div",{staticClass:"collapsed-classes"},e._l(e.classes,(function(t,n){return r("mini-card-vue",{key:"Prior credit: "+n,attrs:{course_id:t,year:-1,quarter:0,idx:n},on:{"load-course":function(t){return e.$emit("load-course",t)}}})})),1):e._e()]),e.collapse?e._e():r("div",{staticClass:"prior-credit-classes",attrs:{allowed:!!e.placing,forbidden:!!e.placing&&e.classes.includes(e.placing)},on:{click:function(t){return e.$emit("place-course")}}},e._l(e.classes,(function(t,n){return r("card-vue",{key:"Prior credit: "+n,attrs:{course_id:t,year:-1,quarter:0,idx:n},on:{"load-course":function(t){return e.$emit("load-course",t)},"remove-course":function(t){return e.remove(n)}}})})),1)])},v=[],g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{class:"mini-card "+e.course_id.name,style:"background-color:"+e.color+";",attrs:{title:e.course?e.name:"Loading Course Name...",id:JSON.stringify({year:e.year,quarter:e.quarter,idx:e.idx})},on:{click:function(t){return t.stopPropagation(),e.$emit("load-course",e.course_id.name)}}},[r("h3",[e._v(e._s(e.course_id.name))])])},y=[],b="fireroad-dev.mit.edu",w=function(){function e(e){this._domain=e,this._protocol="https",this._port=443,this._path=[],this._query=[],this._fragment=""}return e.prototype.protocol=function(e){return this._protocol=e,this},e.prototype.port=function(e){return this._port=e,this},e.prototype.path=function(e){return this._path.push(e),this},e.prototype.query=function(e,t){return void 0===t&&(t=""),this._query.push([e,t]),this},e.prototype.anchor=function(e){return this._fragment=e,this},e.prototype.build=function(){var e=[this._protocol,"://",this._domain,":",this._port,"/",this._path.join("/"),"/"];return this._query.length&&e.push("?",this._query.map((function(e){return e.join("=")})).join("&")),this._fragment&&e.push("#",this._fragment),e.join("")},e.prototype.clone=function(){var t=new e(this._domain);return t._protocol=this._protocol,t._port=this._port,t._path=this._path.slice(0),t._query=this._query.slice(0),t._fragment=this._fragment,t},e}(),q=function(){function e(){}return e.protocol=function(t){return e.init().protocol(t)},e.port=function(t){return e.init().port(t)},e.path=function(t){return e.init().path(t)},e.query=function(t,r){return void 0===r&&(r=""),e.init().query(t,r)},e.anchor=function(t){return e.init().anchor(t)},e.build=function(){return e.init().build()},e.init=function(){return new w(e.domain)},e.domain=b,e}(),x=".server_connection_debug_file";function k(){localStorage.setItem(x,"File Start Time (UTC): "+(new Date).toUTCString()+"\n")}function O(e){localStorage.setItem(x,localStorage.getItem(x)+e+"\n")}function j(){console.debug(localStorage.getItem(x))}function S(e){O((new Date).toUTCString()+" - Error: "+e)}window.reset_debug_file=k,window.print_debug_file=j,null===localStorage.getItem(x)&&k();var C=r("a002"),$=r.n(C),N=".course_manifest",I=".course_metadata",E=".requirement_manifest",P=".requirement_metadata";function T(e){return Object(p["b"])(this,void 0,void 0,(function(){var t,r,n;return Object(p["c"])(this,(function(i){for(t=0,r=e;t<r.length;t++)n=r[t],$.a.setItem(n.subject_id,JSON.stringify(n));return $.a.setItem(N,JSON.stringify(e.map((function(e){return e.subject_id})))),$.a.setItem(I,(new Date).toUTCString()),U=e,[2]}))}))}function A(e){return Object(p["b"])(this,void 0,void 0,(function(){var t,r,n;return Object(p["c"])(this,(function(i){for(t=0,r=e;t<r.length;t++)n=r[t],$.a.setItem(n.list_id,JSON.stringify(n));return $.a.setItem(E,JSON.stringify(e.map((function(e){return e.list_id})))),$.a.setItem(P,(new Date).toUTCString()),V=e,[2]}))}))}function L(){return Object(p["b"])(this,void 0,Promise,(function(){var e;return Object(p["c"])(this,(function(t){switch(t.label){case 0:return[4,$.a.getItem(I)];case 1:return e=t.sent(),[2,e?new Date(Date.parse(e)):new Date(0)]}}))}))}function M(){return Object(p["b"])(this,void 0,Promise,(function(){var e;return Object(p["c"])(this,(function(t){switch(t.label){case 0:return[4,$.a.getItem(P)];case 1:return e=t.sent(),[2,e?new Date(Date.parse(e)):new Date(0)]}}))}))}function J(e){return Object(p["b"])(this,void 0,void 0,(function(){var t,r,n;return Object(p["c"])(this,(function(i){switch(i.label){case 0:return $.a.setItem(e.subject_id,JSON.stringify(e)),n=(r=JSON).parse,[4,$.a.getItem(N)];case 1:return t=n.apply(r,[i.sent()]),t.includes(e.subject_id)||(t.push(e.subject_id),$.a.setItem(N,JSON.stringify(t))),[2]}}))}))}function R(e){return Object(p["b"])(this,void 0,void 0,(function(){var t,r,n;return Object(p["c"])(this,(function(i){switch(i.label){case 0:return $.a.setItem(e.list_id,JSON.stringify(e)),n=(r=JSON).parse,[4,$.a.getItem(E)];case 1:return t=n.apply(r,[i.sent()]),t.includes(e.list_id)||(t.push(e.list_id),$.a.setItem(E,JSON.stringify(t))),[2]}}))}))}function F(e){return Object(p["b"])(this,void 0,Promise,(function(){var t,r;return Object(p["c"])(this,(function(n){switch(n.label){case 0:return r=(t=JSON).parse,[4,$.a.getItem(e)];case 1:return[2,r.apply(t,[n.sent()])]}}))}))}function H(e){return Object(p["b"])(this,void 0,Promise,(function(){var t,r;return Object(p["c"])(this,(function(n){switch(n.label){case 0:return r=(t=JSON).parse,[4,$.a.getItem(e)];case 1:return[2,r.apply(t,[n.sent()])]}}))}))}var U=void 0,V=void 0;function D(){return Object(p["b"])(this,void 0,Promise,(function(){var e,t,r,n,i;return Object(p["c"])(this,(function(s){switch(s.label){case 0:return e=U,e?[3,3]:(r=(t=Promise).all,i=(n=JSON).parse,[4,$.a.getItem(N)]);case 1:return[4,r.apply(t,[i.apply(n,[s.sent()]).map(F)])];case 2:e=U=s.sent(),s.label=3;case 3:return[2,e]}}))}))}function B(){return Object(p["b"])(this,void 0,Promise,(function(){var e,t,r,n,i;return Object(p["c"])(this,(function(s){switch(s.label){case 0:return e=V,e?[3,3]:(r=(t=Promise).all,i=(n=JSON).parse,[4,$.a.getItem(E)]);case 1:return[4,r.apply(t,[i.apply(n,[s.sent()]).map(H)])];case 2:e=V=s.sent(),s.label=3;case 3:return[2,e]}}))}))}function z(){return Object(p["b"])(this,void 0,void 0,(function(){return Object(p["c"])(this,(function(e){return $.a.clear(),[2]}))}))}window.clear_indexed_db=z,window.localForage=$.a;var K=function(){function e(){}return e.prototype.all=function(e){return Object(p["b"])(this,void 0,Promise,(function(){var t,r,n,i=this;return Object(p["c"])(this,(function(s){switch(s.label){case 0:t=window.fetch(q.path("courses").path("all").query("full",""+e).build()),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,t];case 2:return r=s.sent(),r.ok?[4,L()]:[3,4];case 3:return s.sent().getTime()<Date.now()-864e5&&window.fetch(q.path("courses").path("all").query("full","true").build()).then((function(e){return Object(p["b"])(i,void 0,void 0,(function(){var t;return Object(p["c"])(this,(function(r){switch(r.label){case 0:return e.ok?(t=T,[4,e.json()]):[3,2];case 1:t.apply(void 0,[r.sent()]),r.label=2;case 2:return[2]}}))}))})),[2,r.json()];case 4:return[3,6];case 5:return n=s.sent(),S(n),[3,6];case 6:return[2,D()]}}))}))},e.prototype.in_department=function(e,t){return Object(p["b"])(this,void 0,Promise,(function(){return Object(p["c"])(this,(function(r){switch(r.label){case 0:return[4,window.fetch(q.path("courses").path("dept").path(e).query("full",""+t).build())];case 1:return[2,r.sent().json()]}}))}))},e.prototype.load=function(e){return Object(p["b"])(this,void 0,Promise,(function(){var t,r,n,i;return Object(p["c"])(this,(function(s){switch(s.label){case 0:t=window.fetch(q.path("courses").path("lookup").path(e).build()),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,t];case 2:return r=s.sent(),r.ok?[4,r.json()]:[3,4];case 3:return n=s.sent(),J(n),[2,n];case 4:return[3,6];case 5:return i=s.sent(),S(i),[3,6];case 6:return[2,F(e)]}}))}))},e.prototype.search=function(e,t,r){return void 0===r&&(r={}),Object(p["b"])(this,void 0,Promise,(function(){var n;return Object(p["c"])(this,(function(i){switch(i.label){case 0:return n=q.path("courses").path("search").path(e).query("full",""+t),"type"in r&&n.query("type",r.type),"gir"in r&&n.query("gir",r.gir),"hass"in r&&n.query("hass",r.hass),"ci"in r&&n.query("ci",r.ci),"offered"in r&&n.query("offered",r.offered),"level"in r&&n.query("level",r.level),[4,window.fetch(n.build())];case 1:return[2,i.sent().json()]}}))}))},e}();function G(e){return void 0!==e.lecture_units}function Y(e,t,r,n,i){return n+(i-n)*(e-t)/(r-t)}function W(e){var t=parseInt(e,10),r=Number.isNaN(t)?30:Number(Y(t,1,24,0,1065).toFixed(0));return r}function Q(e){return void 0!==e.req}function Z(e){var t={};for(var r in e){var n=e[r];Array.isArray(n)?n=n.map(Z):"object"===typeof n&&(n=Z(n)),t[r.replace("-","_")]=n}return t}var X=function(){function e(){}return e.prototype.all_titles=function(){return Object(p["b"])(this,void 0,Promise,(function(){var e,t,r,n,i,s,o,a,u=this;return Object(p["c"])(this,(function(c){switch(c.label){case 0:e=window.fetch(q.path("requirements").path("list_reqs").build()),c.label=1;case 1:return c.trys.push([1,6,,7]),[4,e];case 2:return t=c.sent(),t.ok?[4,t.json()]:[3,5];case 3:for(i in r=c.sent(),n=[],r)s=r[i],n.push({list_id:i,short_title:s["short-title"],medium_title:s["medium-title"],title_no_degree:s["title-no-degree"],title:s.title});return o=q.path("requirements").path("get_json"),[4,M()];case 4:return c.sent().getTime()<Date.now()-864e5&&Promise.all(n.map((function(e){return window.fetch(o.clone().path(e.list_id).build())}))).then((function(e){return Object(p["b"])(u,void 0,void 0,(function(){var t,r=this;return Object(p["c"])(this,(function(i){switch(i.label){case 0:return t=A,[4,Promise.all(e.map((function(e,t){return Object(p["b"])(r,void 0,void 0,(function(){var r,i,s;return Object(p["c"])(this,(function(o){switch(o.label){case 0:return e.ok?(i=Z,s=[{}],[4,e.json()]):[3,2];case 1:return r=i.apply(void 0,[p["a"].apply(void 0,[p["a"].apply(void 0,s.concat([o.sent()])),{list_id:n[t].list_id}])]),[3,3];case 2:r=void 0,o.label=3;case 3:return[2,r]}}))}))})).filter((function(e){return void 0!==e})))];case 1:return[2,t.apply(void 0,[i.sent()])]}}))}))})),[2,n];case 5:return[3,7];case 6:return a=c.sent(),S(a),[3,7];case 7:return[2,B()]}}))}))},e.prototype.requirements=function(e){return Object(p["b"])(this,void 0,Promise,(function(){var t;return Object(p["c"])(this,(function(r){switch(r.label){case 0:return t=Z,[4,window.fetch(q.path("requirements").path("get_json").path(e).build())];case 1:return[4,r.sent().json()];case 2:return[2,t.apply(void 0,[r.sent()])]}}))}))},e.prototype.progress=function(e,t){return Object(p["b"])(this,void 0,Promise,(function(){var r,n,i,s,o,a;return Object(p["c"])(this,(function(u){switch(u.label){case 0:r=window.fetch(q.path("requirements").path("progress").path(e).build(),{method:"POST",body:JSON.stringify(t)}),u.label=1;case 1:return u.trys.push([1,6,,7]),[4,r];case 2:return n=u.sent(),n.ok?(s=Z,[4,n.json()]):[3,5];case 3:return[4,s.apply(void 0,[u.sent()])];case 4:return i=u.sent(),o=JSON.parse(JSON.stringify(i)),o.list_id=e,R(o),[2,i];case 5:return[3,7];case 6:return a=u.sent(),S(a),[3,7];case 7:return[2,H(e)]}}))}))},e}();function ee(e){return void 0!==e.reqs}function te(e){return void 0!==e.progress}var re=function(){function e(){this.count=0,this.children=new Map,this.value=void 0}return e.prototype.add=function(t,r){t.length?(this.children.has(t[0])||this.children.set(t[0],new e),this.children.get(t[0]).add(t.substring(1),r),this.count++):this.value=r},e.prototype.yield=function(){var e=[];return this._yield(e),e},e.prototype.autocomplete=function(e){var t=0,r=this;while(r&&t<e.length)r=r.children.get(e[t++]);return r?r.yield():[]},e.prototype.get_or_set=function(t,r){var n=0,i=this;while(n<t.length){var s=i.children.get(t[n]);void 0===s&&i.children.set(t[n],s=new e),n++,i=s}return void 0===i.value?(i.value=r,this.count++):r=i.value,r},e.prototype.get=function(e){var t=0,r=this;while(r&&t<e.length)r=r.children.get(e[t++]);return r&&r.value},e.prototype._yield=function(e){this.value&&e.push(this.value),this.children.forEach((function(t){return t._yield(e)}))},e}(),ne=new K,ie=new X,se=n["a"].extend({props:{course_id:Object,year:Number,quarter:Number,idx:Number},computed:{course:function(){return this.$store.getters["classes/class"](this.course_id.name)},name:function(){return this.course.title},color:function(){return"hsl("+W(this.course_id.name)+"deg, 75%, 45%)"}}}),oe=se,ae=(r("6415"),Object(u["a"])(oe,g,y,!1,null,"001c6555",null)),ue=ae.exports,ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{class:"card "+e.course_id.name,style:"background-color:"+e.color+";",attrs:{title:e.course?e.name:"Loading Course Name...",id:JSON.stringify({year:e.year,quarter:e.quarter,idx:e.idx}),unsat:!e.unsafe_sat&&!e.course_id.force_sat&&!!e.course_id.unsat,"force-sat":!e.unsafe_sat&&e.course_id.force_sat},on:{click:function(t){return t.stopPropagation(),e.$emit("load-course",e.course_id.name)}}},[r("h3",[e._v(" "+e._s(e.course_id.name)+" "),r("close-button-vue",{attrs:{close:!0,stop:!0,title:"Remove "+e.course_id.name},on:{"button-click":function(t){return e.$emit("remove-course")}}})],1),r("p",[e._v(e._s(e.course?e.display_name:"Loading Course Name..."))]),r("transition",{attrs:{name:"fade"}},[!e.unsafe_sat&&e.course_id.unsat?r("p",{staticClass:"unsat",attrs:{title:!e.unsafe_sat&&"Click to "+(e.course_id.force_sat?"show":"hide")+" warning"},on:{click:function(t){return t.stopPropagation(),e.$emit("force-sat",{year:e.year,quarter:e.quarter,idx:e.idx})}}},[e._v(e._s(e.course_id.force_sat?"":"Missing:\n"+e.course_id.unsat))]):e._e()])],1)},le=[],de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{attrs:{"open-button":!e.close},on:{click:e.button_click}},[r("p",[e._v(e._s(e.close?"×":"+"))])])},fe=[],he=n["a"].extend({props:{close:Boolean,stop:Boolean},methods:{button_click:function(e){this.$emit("button-click"),this.stop&&e.stopPropagation()}}}),_e=he,pe=(r("08de"),Object(u["a"])(_e,de,fe,!1,null,"6458f032",null)),me=pe.exports,ve=n["a"].extend({components:{CloseButtonVue:me},props:{course_id:Object,year:Number,quarter:Number,idx:Number},computed:{course:function(){return this.$store.getters["classes/class"](this.course_id.name)},name:function(){return this.course.title},display_name:function(){return this.truncate_name(this.name)},color:function(){return"hsl("+W(this.course_id.name)+"deg, var(--saturate), var(--lightness))"},unsafe_sat:function(){return!this.course||-1===this.year}},methods:{truncate_name:function(e){if(e.length<25)return e;for(var t=e.split(" "),r=0,n=0;n<t.length&&r<25;n++)r+=t[n].length;return t.slice(0,Math.max(n,2)).join(" ")+" ..."}}}),ge=ve,ye=(r("74d6"),Object(u["a"])(ge,ce,le,!1,null,"866ea26a",null)),be=ye.exports,we=n["a"].extend({components:{MiniCardVue:ue,CardVue:be},props:{classes:Array,placing:String},data:function(){return{collapse:!1}},computed:{unit_count:function(){var e=this;if(!this.$store.state.classes.manifest_tracker)return"Loading Total Unit Count...";var t=this.classes.map((function(t){return e.$store.getters["classes/class"](t.name).total_units})).reduce((function(e,t){return e+t}),0);return"Units: "+t}},methods:{remove:function(e){this.$emit("remove-course",{year:-1,quarter:0,idx:e})},toggle_collapse:function(){this.collapse=!this.collapse,this.$emit("graph-redraw")}}}),qe=we,xe=(r("b57a"),Object(u["a"])(qe,m,v,!1,null,"156ee246",null)),ke=xe.exports,Oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"year"},[r("span",{staticClass:"year-header",attrs:{collapsed:e.full_collapse},on:{click:e.toggle_full}},[r("b",[e._v(e._s("Year "+(e.idx+1)))]),r("span",{staticClass:"spacer"}),e.full_collapse?r("div",{staticClass:"collapsed-year"},e._l(e.courses,(function(t){return r("mini-card-vue",{key:"year "+e.idx+" quarter "+t.quarter+" course "+t.idx+" name "+t.course.name,attrs:{course_id:t.course,year:e.idx,quarter:t.quarter,idx:t.idx},on:{"load-course":function(t){return e.$emit("load-course",t)}}})})),1):e._e()]),e.full_collapse?e._e():r("article",{staticClass:"year-body"},e._l(e.year,(function(t,n){return r("section",{key:"year "+e.idx+" quarter "+n,staticClass:"quarter"},[r("span",{staticClass:"quarter-header",attrs:{collapsed:e.collapsed[n]},on:{click:function(t){return e.toggle_collapse(n)}}},[r("i",[e._v(e._s(e.quarter_label(n)))]),r("p",[e._v(e._s(e.unit_count(n)))]),r("p",[e._v(e._s(e.hour_count(n)))]),r("span",{staticClass:"spacer"}),e.collapsed[n]?r("div",{staticClass:"collapsed-quarter"},e._l(t,(function(t,i){return r("mini-card-vue",{key:"year "+e.idx+" quarter "+n+" course "+i,attrs:{course_id:t,year:e.idx,quarter:n,idx:i},on:{"load-course":function(t){return e.$emit("load-course",t)}}})})),1):e._e()]),e.collapsed[n]?e._e():r("div",{staticClass:"quarter-classes",attrs:{allowed:""!==e.placing&&e.allow(n),forbidden:""!==e.placing&&e.forbid(n),loading:""!==e.placing&&!e.allowed},on:{click:function(t){return e.$emit("place-course",n)}}},e._l(t,(function(t,i){return r("card-vue",{key:"year "+e.idx+" quarter "+n+" course "+i,attrs:{course_id:t,year:e.idx,quarter:n,idx:i},on:{"load-course":function(t){return e.$emit("load-course",t)},"remove-course":function(t){return e.remove(e.idx,n,i)},"force-sat":function(t){return e.$emit("force-sat",t)}}})})),1)])})),0)])},je=[],Se=n["a"].extend({components:{MiniCardVue:ue,CardVue:be},props:{year:Array,idx:Number,placing:String,allowed:Array},data:function(){return{collapsed:[!1,!0,!1,!0],full_collapse:!1}},computed:{courses:function(){return this.year.flatMap((function(e,t){return e.flatMap((function(e,r){return{quarter:t,idx:r,course:e}}))}))}},methods:{quarter_label:function(e){switch(e){case 0:return"Fall";case 1:return"IAP";case 2:return"Spring";case 3:return"Summer"}},allow:function(e){var t=this;return this.allowed&&this.allowed[e]&&-1===this.year[e].findIndex((function(e){return e.name===t.placing}))},forbid:function(e){var t=this;return this.allowed&&(!this.allowed[e]||-1!==this.year[e].findIndex((function(e){return e.name===t.placing})))},unit_count:function(e){var t=this;if(!this.$store.state.classes.manifest_tracker)return"Loading Total Unit Count...";var r=this.year[e].map((function(e){return t.$store.getters["classes/class"](e.name).total_units})).reduce((function(e,t){return e+t}),0);return"Units: "+r},hour_count:function(e){var t=this;if(!this.$store.state.classes.manifest_tracker)return"Loading Total Hour Count...";var r=this.year[e].map((function(e){return t.$store.getters["classes/class"](e.name)})).map((function(e){return void 0!==e.in_class_hours&&void 0!==e.out_of_class_hours?e.in_class_hours+e.out_of_class_hours:Number.NaN})),n=r.reduce((function(e,t){return e||Number.isNaN(t)}),!1),i=r.reduce((function(e,t){return e+t||0}),0);return"Hours: "+(n?"≥":"")+Number(i.toFixed(2))},remove:function(e,t,r){this.$emit("remove-course",{year:e,quarter:t,idx:r})},toggle_collapse:function(e){this.collapsed.splice(e,1,!this.collapsed[e]),this.$emit("graph-redraw",{year:this.idx,quarter:e})},toggle_full:function(){this.full_collapse=!this.full_collapse,this.$emit("graph-redraw",{year:this.idx,quarter:0})}}}),Ce=Se,$e=(r("f7c9"),Object(u["a"])(Ce,Oe,je,!1,null,"585cbffd",null)),Ne=$e.exports,Ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-bar",on:{focusin:function(t){e.view_results=!0},focusout:function(t){e.view_results=!1}}},[r("label",[e._v(" Search for a course "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.search_text,expression:"search_text"}],attrs:{type:"text",name:"course-search",id:"course-search"},domProps:{value:e.search_text},on:{keydown:e.key,input:function(t){t.target.composing||(e.search_text=t.target.value)}}})]),r("div",[e._v(" HASS "),r("span",[r("button",{attrs:{on:"any"===e.filter.hass},on:{click:function(t){return e.toggle("hass","any")}}},[e._v("Any")]),r("button",{attrs:{on:"h"===e.filter.hass},on:{click:function(t){return e.toggle("hass","h")}}},[e._v("H")]),r("button",{attrs:{on:"a"===e.filter.hass},on:{click:function(t){return e.toggle("hass","a")}}},[e._v("A")]),r("button",{attrs:{on:"s"===e.filter.hass},on:{click:function(t){return e.toggle("hass","s")}}},[e._v("S")])])]),r("div",[e._v(" CI "),r("span",[r("button",{attrs:{on:"not-ci"===e.filter.ci},on:{click:function(t){return e.toggle("ci","not-ci")}}},[e._v("Not")]),r("button",{attrs:{on:"cih"===e.filter.ci},on:{click:function(t){return e.toggle("ci","cih")}}},[e._v("H")]),r("button",{attrs:{on:"cihw"===e.filter.ci},on:{click:function(t){return e.toggle("ci","cihw")}}},[e._v("HW")])])]),r("div",[e._v(" Offered "),r("span",[r("button",{attrs:{on:"fall"===e.filter.offered},on:{click:function(t){return e.toggle("offered","fall")}}},[e._v("Fall")]),r("button",{attrs:{on:"iap"===e.filter.offered},on:{click:function(t){return e.toggle("offered","iap")}}},[e._v("IAP")]),r("button",{attrs:{on:"spring"===e.filter.offered},on:{click:function(t){return e.toggle("offered","spring")}}},[e._v("Spring")]),r("button",{attrs:{on:"summer"===e.filter.offered},on:{click:function(t){return e.toggle("offered","summer")}}},[e._v("Summer")])])]),r("div",[e._v(" GIR "),r("span",[r("button",{attrs:{on:"any"===e.filter.gir},on:{click:function(t){return e.toggle("gir","any")}}},[e._v("Any")]),r("button",{attrs:{on:"lab"===e.filter.gir},on:{click:function(t){return e.toggle("gir","lab")}}},[e._v("Lab")]),r("button",{attrs:{on:"rest"===e.filter.gir},on:{click:function(t){return e.toggle("gir","rest")}}},[e._v("REST")])])]),(e.force_view||e.view_results)&&e.search_results.length?r("section",{staticClass:"results",on:{mouseenter:function(t){e.force_view=!0},mouseleave:function(t){e.force_view=!1}}},e._l(e.search_results,(function(t){return r("button",{key:t.subject_id,staticClass:"search-result",on:{click:function(r){return e.show(t)}}},[r("b",[e._v(e._s(t.subject_id))]),r("p",[e._v(e._s(t.title))])])})),0):e._e()])},Ee=[],Pe=n["a"].extend({data:function(){return{search_text:"",view_results:!1,timeout:0,filter:{gir:void 0,hass:void 0,ci:void 0,offered:void 0},force_view:!1}},computed:{trimmed:function(){return this.search_text.trim()},search_results:function(){return this.trimmed?this.$store.getters["classes/autocomplete"](this.trimmed.toUpperCase(),this.filter):[]}},methods:{show:function(e){this.$emit("load-course",e.subject_id),this.view_results=!1},key:function(e){var t=this;"Enter"===e.key?1===this.search_results.length||this.timeout&&this.search_results.length?this.show(this.search_results[0]):this.timeout=window.setTimeout((function(){return t.timeout=0}),500):(window.clearTimeout(this.timeout),this.timeout=0)},toggle:function(e,t){var r=this.filter;r[e]=r[e]===t?void 0:t}}}),Te=Pe,Ae=(r("b96d"),Object(u["a"])(Te,Ie,Ee,!1,null,"b6a1b7d6",null)),Le=Ae.exports,Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"info-card"},[r("span",{staticClass:"head",style:"--bg-color:"+e.computeColor(e.id),on:{dblclick:function(t){return e.$emit("toggle-max")}}},[r("h3",[e.idx>0?r("button",{staticClass:"prev",on:{click:function(t){return e.$emit("prev-course")}}},[r("div")]):e._e(),e._v(" "+e._s(e.id)+" "),e.idx<e.length-1?r("button",{staticClass:"next",on:{click:function(t){return e.$emit("next-course")}}},[r("div")]):e._e()]),r("close-button-vue",{attrs:{close:!0},on:{"button-click":function(t){return e.$emit("close-info")}}})],1),r("div",{staticClass:"body"},[r("h4",{staticClass:"title",attrs:{loading:!!e.course}},[e._v(e._s(e.course?e.course.title:"Loading Course Title..."))]),r("div",{staticClass:"details"},[r("div",{staticClass:"grid"},[r("h6",[e._v("Units")]),r("p",[e._v(e._s(e.unit_text))]),e.course.gir_attribute?[r("h6",[e._v("Fulfills:")]),r("p",[e._v("GIR:"+e._s(e.course.gir_attribute))])]:e._e(),e.course.hass_attribute?[r("h6",[e._v("HASS:")]),r("p",[e._v(e._s(e.course.hass_attribute+(e.course.communication_requirement?", "+e.course.communication_requirement:"")))])]:e._e(),r("h6",[e._v("Offered")]),r("p",[e._v(e._s(e.course?e.offered.join():"Loading Course Offerings..."))]),r("h6",[e._v(e._s(e.course&&e.course.instructors?1===e.course.instructors.length?"Instructor":"Instructors":"Instructor(s)"))]),r("p",[e._v(e._s(e.course?e.course.instructors?e.course.instructors.join():"Unknown":"Loading Instructor(s)..."))]),r("h6",[e._v("Average Enrollment")]),r("p",[e._v(e._s(e.is_full?(void 0===e.full_course.enrollment_number?"---":e.full_course.enrollment_number)+" students":"Loading Past Enrollment..."))]),r("h6",[e._v("Average Rating")]),r("p",[e._v(e._s(e.is_full?(void 0===e.full_course.rating?"---":e.full_course.rating)+"/7.0":"Loading Course Ratings..."))]),r("h6",[e._v("Hours")]),r("p",[e._v(e._s(e.hourText))])],2),r("h5",[e._v("Description")]),r("div",{staticClass:"description"},[e._v(e._s(e.is_full?void 0===e.full_course.description?"No description available":e.full_course.description:"Loading Course Description..."))])]),e.is_full&&e.full_course.prerequisites?[r("h5",[e._v("Prerequisites"+e._s(e.is_full&&e.full_course.prerequisites?": "+e.prereq_text:""))]),r("div",{staticClass:"prereqs"},e._l(e.prerequisites,(function(t){return r("article",{key:t,style:"--bg-color:"+e.computeColor(t),attrs:{title:e.title(t,!1)},on:{click:function(r){return e.navigate(t)}}},[r("h6",[e._v(e._s(t))]),r("p",[e._v(e._s(e.title(t)))])])})),0)]:e._e(),e.is_full&&e.full_course.corequisites?[r("h5",[e._v("Corequisites"+e._s(e.is_full&&e.full_course.corequisites?": "+e.coreq_text:""))]),r("div",{staticClass:"coreqs"},e._l(e.corequisites,(function(t){return r("article",{key:t,style:"--bg-color:"+e.computeColor(t),on:{click:function(r){return e.navigate(t)}}},[r("h6",[e._v(e._s(t))]),r("p",[e._v(e._s(e.title(t)))])])})),0)]:e._e()],2)])},Je=[];function Re(e){switch(e){case"GIR:CAL2":return["18.02","18.022","18.02A","CC.1802","ES.1802","ES.182A"];case"GIR:CAL1":return["18.01","18.01A","ES.1801","ES.181A"];case"GIR:PHY1":return["8.01","8.011","8.012","8.01L","CC.801","CC.8012","ES.801","ES.8012"];case"GIR:PHY2":return["8.02","8.021","8.022","CC.802","CC.8022","ES.802","ES.8022"];case"GIR:CHEM":return["3.091","5.111","5.112","CC.5111","ES.5111","ES.5112"];case"GIR:BIOL":return["7.012","7.013","7.014","7.015","7.016","ES.7012","ES.7013"]}return[e]}var Fe=new Set(["(",")"," ",",","/","'",'"']),He=new Map;function Ue(e){if(He.has(e))return He.get(e);for(var t=[],r=[],n=0,i=e;n<i.length;n++){var s=i[n];if(Fe.has(s)){var o=t.join("").trim();o&&"permission"!==o&&"of"!==o&&"instructor"!==o&&"coreq:"!==o.toLowerCase()&&r.push(o),t.length=0}else t.push(s)}var a=t.join("").trim();a&&"permission"!==a&&"of"!==a&&"instructor"!==a&&r.push(a);var u=Array.from(new Set(r));return He.set(e,u),u}var Ve=function(){function e(e,t){this.or=e,this.reqs=t}return e.prototype.unsatisfied=function(e){if(this.or){for(var t=[],r=0,n=this.reqs;r<n.length;r++){var i=n[r];if("string"===typeof i){for(var s=Re(i),o=0,a=s;o<a.length;o++){var u=a[o];if(e.has(u))return""}t.push(i)}else{var c=i.unsatisfied(e);if(!c)return"";t.push(c)}}return 1===t.length?t[0]:"("+t.join(" or ")+")"}t=[];for(var l=0,d=this.reqs;l<d.length;l++){i=d[l];if("string"===typeof i){s=Re(i);for(var f=!1,h=0,_=s;h<_.length;h++){u=_[h];if(f=e.has(u))break}f||t.push(i)}else{c=i.unsatisfied(e);c&&t.push(c)}}return t.length?1===t.length?t[0]:"("+t.join(" and ")+")":""},e}(),De=function(){function e(e){this.req=e}return e.prototype.unsatisfied=function(e){if("string"===typeof this.req){for(var t=Re(this.req),r=0,n=t;r<n.length;r++){var i=n[r];if(e.has(i))return""}return this.req}return this.req.unsatisfied(e)},e}();function Be(e){return new De(ze(e,0)[0])}function ze(e,t){for(var r=[],n=[],i="";t<e.length;t++){var s=e[t];if(","===s)n.push(r.join("")),r.length=0,i=s,t++;else if("/"===s)n.push(r.join("")),r.length=0,i=s;else if("("===s){var o=ze(e,t+1);t=o[1],n.push(o[0])}else{if(")"===s)break;r.push(s)}}n.push(r.join(""));var a=n.filter((function(e){return e}));return[i?new Ve("/"===i,a):a[0],t]}function Ke(e){return-1!==e.indexOf("GIR")}window.reqparse=Be;var Ge=n["a"].extend({components:{CloseButtonVue:me},props:{id:String,idx:Number,length:Number},computed:{course:function(){return this.$store.getters["classes/class"](this.id)},full_course:function(){return this.course},is_full:function(){return!!this.course&&G(this.course)},unit_text:function(){return this.is_full?this.full_course.total_units+" Units : "+this.full_course.lecture_units+"-"+this.full_course.lab_units+"-"+(this.full_course.total_units-this.full_course.lecture_units-this.full_course.lab_units):this.course?this.full_course.total_units+" Units":"Loading Unit Count..."},offered:function(){var e=[];return this.course.offered_fall&&e.push("Fall"),this.course.offered_IAP&&e.push("IAP"),this.course.offered_spring&&e.push("Spring"),this.course.offered_summer&&e.push("Summer"),e},hourText:function(){return this.is_full?(void 0!==this.full_course.in_class_hours&&void 0!==this.full_course.out_of_class_hours?Number((this.full_course.in_class_hours+this.full_course.out_of_class_hours).toFixed(2)):"---")+" total; "+(void 0!==this.full_course.in_class_hours?this.full_course.in_class_hours:"---")+" in class; "+(void 0!==this.full_course.out_of_class_hours?this.full_course.out_of_class_hours:"---")+" out of class":"Loading Course Hours..."},prerequisites:function(){return Ue(this.full_course.prerequisites).filter((function(e){return-1!==e.indexOf(".")}))},corequisites:function(){return Ue(this.full_course.corequisites).filter((function(e){return-1!==e.indexOf(".")}))},prereq_text:function(){return this.req_text(this.full_course.prerequisites)},coreq_text:function(){return this.req_text(this.full_course.corequisites)}},methods:{req_text:function(e){return e.trim().replace(/, /g," and ").replace(/\//g," or ")},title:function(e,t){return void 0===t&&(t=!0),this.$store.state.classes.manifest_tracker?Ke(e)?"":t?this.truncate_name(this.course.title):this.course.title:"Loading Course Title..."},truncate_name:function(e,t){if(void 0===t&&(t=20),e.length<t)return e;for(var r=e.split(" "),n=0,i=0;i<r.length&&n<t;i++)n+=r[i].length;return r.slice(0,Math.max(i,2)).join(" ")+" ..."},navigate:function(e){Ke(e)&&(e=Re(e)[0]),this.$emit("push-course",e)},computeColor:function(e){return W(e)}}}),Ye=Ge,We=(r("5c96"),Object(u["a"])(Ye,Me,Je,!1,null,"b5a2007c",null)),Qe=We.exports,Ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-bar",on:{click:function(t){e.view_results=!1}}},[r("label",[e._v(" Search for a requirement "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.search_text,expression:"search_text"}],attrs:{type:"text",name:"req-search",id:"req-search",disabled:e.disable},domProps:{value:e.search_text},on:{click:function(t){t.stopPropagation(),e.view_results=!0},keydown:e.key,input:function(t){t.target.composing||(e.search_text=t.target.value)}}})]),e.view_results&&e.search_results.length?r("section",{staticClass:"results"},e._l(e.search_results,(function(t){return r("button",{key:t.reqs.list_id,staticClass:"search-result",on:{click:function(r){return e.show(t)}}},[r("b",[e._v(e._s(t.reqs.medium_title))]),r("p",[e._v(e._s(t.reqs.title_no_degree))])])})),0):e._e()])},Xe=[],et=n["a"].extend({props:{disable:Boolean},data:function(){return{search_text:"",view_results:!1,ignore_set:new Set(["by","of","in","as","the","and"]),timeout:0}},computed:{trimmed:function(){return this.search_text.trim()},search_results:function(){var e=this;if(!this.trimmed)return[];var t=this.trimmed.replace(/\(|\)|,/g,"").toLowerCase().split(" ").filter((function(t){return!e.ignore_set.has(t)})),r=t.map((function(t){return e.$store.getters["requirements/autocomplete"](t)})),n=new Set(r.flatMap((function(e){return e.flatMap((function(e){return Array.from(e)}))})));return Array.from(n)}},methods:{show:function(e){this.$emit("load-requirement",e.reqs.list_id),this.view_results=!1},key:function(e){var t=this;"Enter"===e.key?1===this.search_results.length||this.timeout&&this.search_results.length?this.show(this.search_results[0]):this.timeout=window.setTimeout((function(){return t.timeout=0}),500):(window.clearTimeout(this.timeout),this.timeout=0)}}}),tt=et,rt=(r("0db6"),Object(u["a"])(tt,Ze,Xe,!1,null,"1c39d774",null)),nt=rt.exports,it=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.has_reqs?r("section",{staticClass:"tree"},[r("div",{staticClass:"progress",style:void 0!==e.reqs.reqs.percent_fulfilled&&"--progress:"+e.reqs.reqs.percent_fulfilled/100,attrs:{fulfilled:!!e.reqs.reqs.fulfilled,progress:void 0!==e.reqs.reqs.percent_fulfilled,highlight:0===e.reqs.reqs.percent_fulfilled&&!e.reqs.reqs.fulfilled}},[r("h2",{attrs:{collapsed:e.collapsed},on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(e._s(e.reqs.loading?"Loading Title...":e.reqs.reqs.short_title+" "+e.reqs.reqs.title))]),r("close-button-vue",{attrs:{close:!0},on:{"button-click":function(t){return e.$emit("remove-requirement")}}})],1),!e.has_progress&&!e.has_requirement||e.collapsed?e.collapsed?e._e():r("span",[e._v("Loading Requirements...")]):e._l(e.reqs.reqs.reqs,(function(t,n){return r("requirement-vue",{key:e.requirements.name+"."+n,attrs:{req:t,idx:e.idx,name:e.requirements.name+"."+n,overrides:e.requirements.overrides},on:{"req-override":function(t){return e.$emit("req-override",t)}}})}))],2):r("span",[e._v("Loading Requirements...")])},st=[],ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",[e.is_req?[r("h3",{staticClass:"req",attrs:{completed:e.req.fulfilled,override:e.can_override&&e.overriden},on:{click:e.override}},[e._v(e._s(e.req.req))])]:r("section",{staticClass:"children",attrs:{collapsed:e.collapsed}},[r("h3",{staticClass:"req-header",style:void 0!==e.req.percent_fulfilled&&"--progress:"+e.req.percent_fulfilled/100,attrs:{fulfilled:!!e.req.fulfilled,progress:void 0!==e.req.percent_fulfilled&&e.req.sat_courses.length>0},on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(" "+e._s(e.req.title)+" "),r("i",[e._v(e._s(e.req.threshold_desc)+" from")])]),e.collapsed?e._e():e._l(e.children,(function(t,n){return r("requirement-vue",{key:e.name+"."+n,attrs:{req:t,idx:e.idx,name:e.name+"."+n,overrides:e.overrides},on:{"req-override":function(t){return e.$emit("req-override",t)}}})}))],2)],2)},at=[],ut=n["a"].extend({props:{req:Object,name:String,idx:Number,overrides:Array},data:function(){return{collapsed:!0}},computed:{is_req:function(){return Q(this.req)},children:function(){return this.req.reqs},can_override:function(){return this.is_req&&!!this.req.threshold},overriden:function(){var e=this;return-1!==this.overrides.findIndex((function(t){return e.name in t}))}},methods:{override:function(){if(this.can_override){var e={};e[this.name]=this.req.threshold.cutoff,e.idx=this.idx,this.$emit("req-override",e)}}},name:"requirement-vue"}),ct=ut,lt=(r("f58c"),Object(u["a"])(ct,ot,at,!1,null,"c47b0c96",null)),dt=lt.exports,ft=n["a"].extend({components:{RequirementVue:dt,CloseButtonVue:me},props:{requirements:Object,idx:Number},data:function(){return{collapsed:!0}},computed:{reqs:function(){return this.$store.state.requirements.manifest.get(this.requirements.name)},has_requirement:function(){return this.$store.state.requirements.manifest_tracker&&ee(this.reqs.reqs)},has_progress:function(){return this.$store.state.requirements.manifest_tracker&&te(this.reqs.reqs)},as_progress:function(){return this.reqs.reqs},has_reqs:function(){return this.$store.state.requirements.manifest_tracker&&void 0!==this.reqs}}}),ht=ft,_t=(r("5897"),Object(u["a"])(ht,it,st,!1,null,"0fc6c6b6",null)),pt=_t.exports,mt="http://www.w3.org/2000/svg",vt=new Map,gt=new Map,yt=new Map,bt=[],wt=new Set;function qt(){var e=document.getElementById("graph"),t=document.createDocumentFragment();bt.forEach((function(e){wt.has(e)?wt.delete(e):t.appendChild(e)})),e.appendChild(t),wt.forEach((function(e){return e.remove()})),bt.length=0,wt.clear()}function xt(){bt.length||wt.size||window.requestAnimationFrame((function(){return qt()}))}function kt(e){return Ke(e)?Re(e).flatMap((function(e){return Array.from(document.getElementsByClassName(e))})):Array.from(document.getElementsByClassName(e))}function Ot(e,t){return e.year<t.year?-1:t.year<e.year?1:e.quarter<t.quarter?-1:t.quarter<e.quarter?1:e.idx<t.idx?-1:t.idx<e.idx?1:0}function jt(e,t){for(var r=kt(e),n=void 0,i=void 0,s=0,o=r;s<o.length;s++){var a=o[s];if(t!==a){var u=JSON.parse(a.id);(!i||Ot(i,u)>0)&&(n=a,i=u)}}return n}var St=4;function Ct(e,t){return[e[0]*(St-1)/St+t[0]/St,e[1]/St+t[1]*(St-1)/St]}function $t(e,t,r,n){var i=document.createElementNS(mt,"path");i.classList.add(r?"p-req":"c-req");var s=[e.offsetLeft+e.offsetWidth/2,e.offsetTop+e.offsetHeight/2],o=[t.offsetLeft+t.offsetWidth/2,t.offsetTop+t.offsetHeight/2];if(n){var a=Ct(s,o);i.setAttribute("d","M "+s[0]+" "+s[1]+" Q "+a[0]+" "+a[1]+","+o[0]+" "+o[1])}else i.setAttribute("d","M "+s[0]+" "+s[1]+" L "+o[0]+" "+o[1]);var u=JSON.parse(e.id),c=JSON.parse(t.id);return(r&&(u.year>c.year||u.year===c.year&&u.quarter>=c.quarter)&&-1!==c.year||!r&&(u.year>c.year||u.year===c.year&&u.quarter>c.quarter))&&i.setAttribute("style","stroke:red;"),i}function Nt(e,t,r){var n=yt.get(t);if(n){if(n.has(e))return;n.set(e,r),n=yt.get(e),n?n.set(t,r):yt.set(e,new Map([[t,r]]))}else yt.set(t,new Map([[e,r]])),n=yt.get(e),n?n.set(t,r):yt.set(e,new Map([[t,r]]));xt(),bt.push(r)}function It(e,t,r,n,i){var s=jt(r);if(s){var o=JSON.stringify(t),a=document.getElementById(o),u=$t(s,a,n,i);Nt(s.id,o,u);var c=n?vt:gt,l=Ke(r)?Re(r):[r],d=Ke(e)?Re(e):[e];l.forEach((function(e){var t=c.get(e);t||c.set(e,t=new Set),d.forEach((function(e){return t.add(e)}))}))}}function Et(e,t,r,n){var i=JSON.stringify(t),s=document.getElementById(i),o=jt(e,s);o&&At(o.id),Array.from((r?vt:gt).get(e)||[]).flatMap((function(e){return kt(e)})).forEach((function(e){return Nt(i,e.id,$t(s,e,r,n))}))}function Pt(e,t,r,n,i){var s={year:e,quarter:t,idx:r};n.prerequisites&&Ue(n.prerequisites).forEach((function(e){return It(n.subject_id,s,e,!0,i)})),n.corequisites&&Ue(n.corequisites).forEach((function(e){return It(n.subject_id,s,e,!1,i)})),Et(n.subject_id,s,!0,i),Et(n.subject_id,s,!1,i)}function Tt(e,t,r){var n=JSON.stringify({year:e,quarter:t,idx:r});At(n)}function At(e){var t=yt.get(e);t&&(t.forEach((function(t,r){xt(),wt.add(t),yt.get(r).delete(e)})),yt.delete(e))}var Lt=n["a"].extend({created:function(){this.$store.dispatch("classes/init"),this.$store.dispatch("requirements/init")},components:{PriorCreditVue:ke,YearVue:Ne,SearchVue:Le,InfoVue:Qe,RequirementSearchVue:nt,RequirementTreeVue:pt,ActionButtonVue:me},mounted:function(){return Object(p["b"])(this,void 0,void 0,(function(){var e,t,r,n,i=this;return Object(p["c"])(this,(function(s){switch(s.label){case 0:return[4,this.$store.dispatch("roads/load")];case 1:return s.sent(),e=function(){return i.graph_redraw()},window.addEventListener("resize",e),this.road&&(this.graph_redraw(),this.load_classes(),this.update_progresses(),this.compute_sat()),t=function(e){"z"!==e.key||!e.ctrlKey&&!e.metaKey||e.altKey||e.shiftKey||(i.$store.dispatch("roads/undo"),i.graph_redraw(),i.update_progresses())},r=function(e){("Z"!==e.key&&"z"!==e.key||!e.shiftKey)&&("y"!==e.key||e.shiftKey)||!e.ctrlKey&&!e.metaKey||e.altKey||(i.$store.dispatch("roads/redo"),i.graph_redraw(),i.update_progresses())},n=function(e){!e.metaKey&&!e.ctrlKey||!e.shiftKey||"d"!==e.key&&"D"!==e.key||e.altKey||(i.toggle_mode(),e.preventDefault())},window.addEventListener("keydown",t),window.addEventListener("keydown",r),window.addEventListener("keydown",n),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e),window.removeEventListener("keydown",t),window.removeEventListener("keydown",r),window.removeEventListener("keydown",n)})),[2]}}))}))},data:function(){return{editing:-1,editingText:"Untitled",inspecting:"",inspection_history:[],maximize_info:!1,graph_mode:!0,cycling:new Set,cycle:0,progress_update:0,curvy:!0,sat_update:0}},watch:{editingText:function(e){this.editing>-1&&this.$store.dispatch("roads/update_name",{road:this.editing,name:this.editingText})}},computed:{viewing:function(){return this.$store.state.roads.viewing},roadNames:function(){return this.$store.state.roads.course_roads.map((function(e){return e.name}))},road:function(){return this.$store.getters["roads/road"]},years:function(){return this.road.years},prior_credit:function(){return this.road.prior_credit},inspect_course:function(){return this.$store.getters["classes/class"](this.inspecting)},inspect_index:function(){return this.inspection_history.indexOf(this.inspecting)},allowed:function(){return this.inspect_course?[this.inspect_course.offered_fall,this.inspect_course.offered_IAP,this.inspect_course.offered_spring,this.inspect_course.offered_summer]:void 0},requirements:function(){return this.road.requirements},courses:function(){return this.years.flatMap((function(e){return e.flatMap((function(e){return e}))})).concat(this.prior_credit)},road_json:function(){var e=this,t=this.prior_credit.map((function(t,r){return e.make_class(t,0,-1,r)})),r=t.concat(this.years.flatMap((function(t,r){return t.flatMap((function(t,n){return t.map((function(t,i){return e.make_class(t,r,n,i)}))}))})));return{coursesOfStudy:this.requirements.map((function(e){return e.name})),progressOverrides:this.overrides,selectedSubjects:r}},overrides:function(){return this.road.requirements.flatMap((function(e){return e.overrides})).reduce((function(e,t){return Object.assign(e,t)}),{})}},methods:{finish_editing:function(){this.editing=-1,this.$store.dispatch("roads/save")},new_road:function(e){this.graph_redraw(),-1!==this.editing&&this.$store.dispatch("roads/save"),this.editing=this.$store.state.roads.course_roads.length,this.editingText="Untitled",this.$store.dispatch("roads/new_road",this.editingText),this.compute_sat()},remove_road:function(e){this.graph_redraw(),this.$store.dispatch("roads/delete_road",e),this.compute_sat()},view:function(e){e!==this.viewing&&(this.graph_redraw(),this.$store.dispatch("roads/view",e),-1!==this.editing&&this.$store.dispatch("roads/save"),this.editing=-1,this.load_classes(),this.update_progresses(),this.compute_sat())},edit:function(e){this.editing=e,this.editingText=this.$store.state.roads.course_roads[e].name},inspect:function(e){this.$store.dispatch("classes/load",e),this.maximize_info=!!this.inspecting&&this.maximize_info,this.inspecting=e,this.inspection_history.splice(0,this.inspection_history.length,e)},close_info:function(){this.inspecting="",this.maximize_info=!1},toggle_max:function(){this.maximize_info=!this.maximize_info},place:function(e,t){this.inspecting&&(this.graph_redraw({year:e,quarter:t}),this.$store.dispatch("roads/add_course",{year:e,quarter:t,course:this.inspecting}),this.close_info(),this.update_progresses(),this.compute_sat())},remove_course:function(e){var t=e.year,r=e.quarter,n=e.idx,i=-1===t?this.road.prior_credit[n].name:this.road.years[t][r][n].name;this.graph_redraw({year:t,quarter:r}),this.$store.dispatch("roads/remove_course",{year:t,quarter:r,idx:n}),this.inspect(i),this.update_progresses(),this.compute_sat()},push_course:function(e){this.inspection_history.splice(this.inspect_index+1,this.inspection_history.length,e),this.inspecting=e,this.$store.dispatch("classes/load",e)},next_course:function(){this.inspecting=this.inspection_history[Math.min(this.inspect_index+1,this.inspection_history.length-1)]},prev_course:function(){this.inspecting=this.inspection_history[Math.max(0,this.inspect_index-1)]},add_requirement:function(e){this.$store.dispatch("requirements/progress",{reqs:[e],progressOverrides:this.overrides,courses:this.road_json}),this.$store.dispatch("roads/add_requirement",e)},remove_req:function(e){this.$store.dispatch("roads/remove_requirement",e)},override:function(e){var t=e.idx;this.$store.dispatch("roads/toggle_override",e),this.$store.dispatch("requirements/progress",{reqs:[this.requirements[t].name],progressOverrides:this.overrides,courses:this.road_json})},update_progresses:function(){var e=this;this.progress_update||(this.$store.state.classes.manifest_tracker?(this.$store.dispatch("requirements/progress",{reqs:this.requirements.map((function(e){return e.name})),progressOverrides:this.overrides,courses:this.road_json}),this.progress_update=0):this.progress_update=window.setTimeout((function(){e.progress_update=0,e.update_progresses()}),1e3))},load_classes:function(){var e=this;this.road&&this.courses.forEach((function(t){return e.$store.dispatch("classes/load",t.name)}))},make_class:function(e,t,r,n){return{id:e.name,index:4*t+1+r+n,overrideWarnings:!1,semester:4*t+1+r}},graph_redraw:function(e){var t=this,r=void 0===e?{year:-1,quarter:0}:e,n=r.year,i=r.quarter;this.road&&this.graph_detrack(n,i),this.$nextTick((function(){return t.road&&t.graph_retrack(n,i)}))},graph_courses:function(e,t){var r=[];return-1===e?r.push.apply(r,this.prior_credit.map((function(e,t){return{year:-1,quarter:0,idx:t,course:e.name}}))):r.push.apply(r,this.years[e].slice(t).flatMap((function(r,n){return r.map((function(r,i){return{year:e,quarter:t+n,idx:i,course:r.name}}))}))),r.push.apply(r,this.years.slice(++e).flatMap((function(t,r){return t.flatMap((function(t,n){return t.map((function(t,i){return{year:e+r,quarter:n,idx:i,course:t.name}}))}))}))),r},graph_detrack:function(e,t){var r=this;this.graph_courses(e,t).forEach((function(e){var t=JSON.stringify(e);r.cycling.delete(t)||Tt(e.year,e.quarter,e.idx)}))},graph_retrack:function(e,t){var r=this,n=this.graph_courses(e,t);this.cycling.size||(this.cycle=window.setTimeout((function(){return r._cycle_retrack()}),0)),n.forEach((function(e){return r.cycling.add(JSON.stringify(e))}))},_cycle_retrack:function(){var e=this,t=[],r=20;this.cycling.forEach((function(n){if(t.length<r){var i=JSON.parse(n),s=e.$store.getters["classes/class"](i.course);s&&G(s)&&t.push([i,s,n])}})),t.forEach((function(t){e.cycling.delete(t[2]),Pt(t[0].year,t[0].quarter,t[0].idx,t[1],e.curvy)})),this.cycling.size&&window.setTimeout((function(){return e._cycle_retrack()}),t.length===r?0:500)},toggle_curvy:function(){this.curvy=!this.curvy,this.graph_redraw()},compute_sat:function(){var e=this;this.sat_update||(this.sat_update=window.setTimeout((function(){return e._sat_recompute()}),0))},_sat_recompute:function(){for(var e=this,t=new Set,r=0,n=this.prior_credit;r<n.length;r++){var i=n[r];t.add(i.name);var s=this.$store.getters["classes/class"](i.name);if(!s||!G(s))return void(this.sat_update=window.setTimeout((function(){return e._sat_recompute()}),1e3));s.equivalent_subjects&&s.equivalent_subjects.forEach((function(e){return t.add(e)})),s.joint_subjects&&s.joint_subjects.forEach((function(e){return t.add(e)}))}for(var o=0;o<this.years.length;o++)for(var a=0;a<this.years[o].length;a++){for(var u=[],c=0,l=this.years[o][a];c<l.length;c++){i=l[c],s=this.$store.getters["classes/class"](i.name);if(!s||!G(s))return void(this.sat_update=window.setTimeout((function(){return e._sat_recompute()}),1e3));if(s.prerequisites){var d=Be(s.prerequisites).unsatisfied(t);u.push(d&&"Prerequisites: "+d)}else u.push("")}for(var f=0,h=this.years[o][a];f<h.length;f++){i=h[f];t.add(i.name)}for(var _=0;_<this.years[o][a].length;_++){s=this.$store.getters["classes/class"](this.years[o][a][_].name);if(s.corequisites){var p=Be(s.corequisites).unsatisfied(t);u[_]=u[_]?p?u[_]+"\nCorequisites:"+p:u[_]:p}}this.$store.dispatch("roads/update_unsat",{year:o,quarter:a,unsat:u})}this.sat_update=0},toggle_sat:function(e){e.force=!this.road.years[e.year][e.quarter][e.idx].force_sat,this.$store.dispatch("roads/force_sat",e)},toggle_mode:function(){this.$store.dispatch("roads/toggle_mode")}}}),Mt=Lt,Jt=(r("5d8d"),Object(u["a"])(Mt,h,_,!1,null,"96093380",null)),Rt=Jt.exports;n["a"].use(f["a"]);var Ft,Ht=[{path:"/",name:"core",component:Rt}],Ut=new f["a"]({mode:"history",base:"/courses/",routes:Ht}),Vt=Ut,Dt=r("2f62"),Bt={manifest:new Map,loaded:new Set,manifest_tracker:0,id_search_trie:new re,title_search_trie:new re,access_log:new Map},zt=3,Kt=new Set(["by","of","in","as","the","and"]),Gt={state:Bt,getters:{class:function(e){var t=e.manifest,r=e.manifest_tracker;return function(e){return r?t.get(e):void 0}},autocomplete:function(e){var t=e.id_search_trie,r=e.title_search_trie;return function(e,n){for(var i=t.autocomplete(e),s=e.toLowerCase().split(" ").filter((function(e){return!Kt.has(e)})).flatMap((function(e){return r.autocomplete(e).flatMap((function(e){return Array.from(e)}))})),o=new Map,a=0,u=i;a<u.length;a++){var c=u[a];o.has(c)?o.set(c,o.get(c)+1):o.set(c,1)}for(var l=0,d=s;l<d.length;l++){c=d[l];o.has(c)?o.set(c,o.get(c)+1):o.set(c,1)}var f=Array.from(o).sort((function(e,t){return e[1]>t[1]?-1:e[1]<t[1]?1:0})).map((function(e){return e[0]})),h=[];if(n.ci){var _=function(e){return!e.communication_requirement};switch(n.ci){case"cih":_=function(e){return!!e.communication_requirement};break;case"cihw":_=function(e){return"CI-HW"===e.communication_requirement};break}h.push(_)}if(n.gir){_=function(e){return!!e.gir_attribute};switch(n.gir){case"lab":_=function(e){return!!e.gir_attribute&&e.gir_attribute.includes("LAB")};break;case"rest":_=function(e){return!!e.gir_attribute&&e.gir_attribute.includes("REST")};break}h.push(_)}if(n.hass){_=function(e){return!!e.hass_attribute};switch(n.hass){case"h":_=function(e){return!!e.hass_attribute&&e.hass_attribute.includes("HASS-H")};break;case"a":_=function(e){return!!e.hass_attribute&&e.hass_attribute.includes("HASS-A")};break;case"s":_=function(e){return!!e.hass_attribute&&e.hass_attribute.includes("HASS-S")};break}h.push(_)}if(n.offered)switch(n.offered){case"fall":h.push((function(e){return e.offered_fall}));break;case"iap":h.push((function(e){return e.offered_IAP}));break;case"spring":h.push((function(e){return e.offered_spring}));break;case"summer":h.push((function(e){return e.offered_summer}));break}return f.filter((function(e){return h.map((function(t){return t(e)})).reduce((function(e,t){return e&&t}),!0)}))}}},mutations:{_load:function(e,t){var r=e.loaded;r.add(t)},_access:function(e,t){var r=e.access_log,n=t.substring(0,t.indexOf("."));r.has(n)||r.set(n,new Set),r.get(n).add(t)},_set_course:function(e,t){e.manifest.set(t.subject_id,t),e.manifest_tracker+=1},_bulk_load:function(e,t){e.manifest=t,e.manifest_tracker=1,t.forEach((function(t,r){e.id_search_trie.add(r,t),t.title.split(" ").forEach((function(r){e.title_search_trie.get_or_set(r.toLowerCase(),new Set).add(t)}))}))}},actions:{init:function(e){var t=e.commit;return Object(p["b"])(this,void 0,void 0,(function(){var e,r;return Object(p["c"])(this,(function(n){switch(n.label){case 0:return[4,ne.all(!1)];case 1:return e=n.sent(),r=new Map(e.map((function(e){return[e.subject_id,e]}))),t("_bulk_load",r),[2]}}))}))},load:function(e,t){var r=e.state,n=e.commit,i=e.dispatch;return Object(p["b"])(this,void 0,void 0,(function(){var e,s,o,a,u;return Object(p["c"])(this,(function(c){switch(c.label){case 0:return e=t.substring(0,t.indexOf(".")),s=r.access_log.get(e),s&&!s.has(t)&&s.size===zt&&ne.in_department(e,!0).then((function(e){return i("_delay_dept_load",e)})),n("_access",t),o=r.manifest.get(t),o&&G(o)||r.loaded.has(t)?[3,2]:(n("_load",t),a=i,u=["_delay_manifest_load"],[4,ne.load(t)]);case 1:a.apply(void 0,u.concat([c.sent()])),c.label=2;case 2:return[2]}}))}))},_delay_manifest_load:function(e,t){var r=e.state,n=e.commit,i=e.dispatch;r.manifest_tracker?n("_set_course",t):window.setTimeout((function(){return i("_delay_manifest_load",t)}),1e3)},_delay_dept_load:function(e,t){var r=e.state,n=e.commit,i=e.dispatch;r.manifest_tracker?t.forEach((function(e){return n("_set_course",e)})):window.setTimeout((function(){return i("_delay_dept_load",t)}),1e3)}},namespaced:!0};function Yt(){return[[],[],[],[]]}(function(e){e[e["FALL"]=0]="FALL",e[e["IAP"]=1]="IAP",e[e["SPRING"]=2]="SPRING",e[e["SUMMER"]=3]="SUMMER"})(Ft||(Ft={}));var Wt=function(){function e(e){this.name=e,this.years=[Yt(),Yt(),Yt(),Yt()],this.prior_credit=[],this.requirements=[]}return e}(),Qt={course_roads:[],viewing:-1,undo_stack:[],idx:-1,dark_mode:!1},Zt=".roads",Xt={state:Qt,getters:{road:function(e){var t=e.course_roads,r=e.viewing;return-1===r?void 0:t[r]}},mutations:{_new_road:function(e,t){e.viewing=e.course_roads.length,e.course_roads.push(new Wt(t))},_splice_road:function(e,t){var r=t.road,n=t.idx;e.viewing=n,e.course_roads.splice(n,0,r)},_view:function(e,t){e.viewing=Math.max(Math.min(t,e.course_roads.length-1),e.course_roads.length?0:-1)},_update_name:function(e,t){var r=e.course_roads,n=t.road,i=t.name;r[n].name=i},_delete_road:function(e,t){e.viewing===t&&(0===t?e.viewing=e.course_roads.length>1?0:-1:e.viewing===e.course_roads.length-1&&e.viewing--),e.course_roads.splice(t,1)},_add_year:function(e){var t=e.course_roads,r=e.viewing;t[r].years.push(Yt())},_splice_year:function(e,t){var r=e.course_roads,n=e.viewing,i=t.idx,s=t.year;r[n].years.splice(i,0,s)},_remove_year:function(e,t){var r=e.course_roads,n=e.viewing;r[n].years.splice(t,1)},_add_course:function(e,t){for(var r=e.course_roads,n=e.viewing,i=t.year,s=t.quarter,o=t.course,a=-1===i?r[n].prior_credit:r[n].years[i][s],u=[parseInt(o,10)||Number.POSITIVE_INFINITY,parseFloat(o.substring(o.indexOf(".")))||Number.POSITIVE_INFINITY],c=0;c<a.length;c++){var l=[parseInt(a[c].name,10)||Number.POSITIVE_INFINITY,parseFloat(a[c].name.substring(a[c].name.indexOf(".")))||Number.POSITIVE_INFINITY];if(u[0]<l[0]||u[0]===l[0]&&u[1]<l[1])return void a.splice(c,0,{name:o,unsat:"",force_sat:!1})}a.push({name:o,unsat:"",force_sat:!1})},_splice_course:function(e,t){var r=e.course_roads,n=e.viewing,i=t.year,s=t.quarter,o=t.idx,a=t.course;-1===i?r[n].prior_credit.splice(o,0,a):r[n].years[i][s].splice(o,0,a)},_remove_course:function(e,t){var r=e.course_roads,n=e.viewing,i=t.year,s=t.quarter,o=t.idx;-1!==i?r[n].years[i][s].splice(o,1):r[n].prior_credit.splice(o,1)},_add_requirement:function(e,t){var r=e.course_roads,n=e.viewing,i=r[n].requirements;i.includes(t)||i.push(t)},_splice_requirement:function(e,t){var r=e.course_roads,n=e.viewing,i=t.idx,s=t.requirement;r[n].requirements.splice(i,0,s)},_remove_requirement:function(e,t){var r=e.course_roads,n=e.viewing;r[n].requirements.splice(t,1)},_load:function(e,t){e.course_roads=t.course_roads,e.viewing=t.viewing,e.dark_mode=t.dark_mode,document.getElementById("app").classList.toggle("dark-mode",e.dark_mode)},_set_stack:function(e,t){e.undo_stack=t},_set_idx:function(e,t){e.idx=t},_log:function(e,t){e.idx++>-1?e.undo_stack.splice(e.idx,e.undo_stack.length,t):e.undo_stack.push(t)},_undo:function(e){e.idx>-1&&e.undo_stack[e.idx--].undo()},_redo:function(e){e.idx<e.undo_stack.length-1&&e.undo_stack[++e.idx].redo()},_update_unsat:function(e,t){for(var r=e.course_roads,n=e.viewing,i=t.year,s=t.quarter,o=t.unsat,a=r[n].years[i][s],u=0;u<a.length;u++)a[u].unsat=o[u]},_force_sat:function(e,t){var r=e.course_roads,n=e.viewing,i=t.year,s=t.quarter,o=t.idx,a=t.force;r[n].years[i][s][o].force_sat=a},_toggle_override:function(e,t){var r=e.course_roads,n=e.viewing,i=r[n].requirements[t.idx].overrides;delete t.idx;for(var s=0;s<i.length;s++)for(var o in i[s])if(o in t)return void i.splice(s,1);i.push(t)},_toggle_mode:function(e){e.dark_mode=!e.dark_mode,document.getElementById("app").classList.toggle("dark-mode",e.dark_mode)}},actions:{new_road:function(e,t){var r=e.state,n=e.commit,i=e.dispatch,s=r.course_roads.length;n("_new_road",t),n("_log",{redo:function(){n("_new_road",t),i("save")},undo:function(){n("_delete_road",s),i("save")}}),i("save")},view:function(e,t){var r=e.state,n=e.commit,i=e.dispatch,s=r.viewing;n("_view",t),n("_log",{undo:function(){n("_view",s),i("save")},redo:function(){n("_view",t),i("save")}}),i("save")},update_name:function(e,t){var r=e.state,n=e.commit,i=e.dispatch,s=r.course_roads[t.road].name;n("_update_name",t),n("_log",{undo:function(){n("_update_name",{road:t.road,name:s}),i("save")},redo:function(){n("_update_name",t),i("save")}})},delete_road:function(e,t){var r=e.state,n=e.commit,i=e.dispatch,s=r.course_roads[t];n("_delete_road",t),n("_log",{undo:function(){n("_splice_road",{road:s,idx:t}),i("save")},redo:function(){n("_delete_road",t),i("save")}}),i("save")},add_course:function(e,t){var r=e.state,n=e.commit,i=e.dispatch,s=void 0;n("_add_course",t);var o=(-1===t.year?r.course_roads[r.viewing].prior_credit:r.course_roads[r.viewing].years[t.year][t.quarter]).indexOf(s);n("_log",{redo:function(){n("_splice_course",Object(p["a"])(Object(p["a"])({},t),{idx:o,course:s})),i("save")},undo:function(){s=r.course_roads[r.viewing].years[t.year][t.quarter][o],n("_remove_course",{year:t.year,quarter:t.quarter,idx:o}),i("save")}}),i("save")},remove_course:function(e,t){var r=e.state,n=e.commit,i=e.dispatch,s=-1===t.year?r.course_roads[r.viewing].prior_credit[t.idx]:r.course_roads[r.viewing].years[t.year][t.quarter][t.idx];n("_remove_course",t),n("_log",{undo:function(){n("_splice_course",Object(p["a"])(Object(p["a"])({},t),{course:s})),i("save")},redo:function(){n("_remove_course",t),i("save")}}),i("save")},add_requirement:function(e,t){for(var r=e.state,n=e.commit,i=e.dispatch,s=r.course_roads[r.viewing].requirements.length,o=0,a=r.course_roads[r.viewing].requirements;o<a.length;o++){var u=a[o];if(u.name===t)return}n("_add_requirement",{name:t,overrides:[]}),n("_log",{undo:function(){n("_remove_requirement",s),i("save")},redo:function(){n("_add_requirement",{name:t,overrides:[]}),i("save")}}),i("save")},remove_requirement:function(e,t){var r=e.state,n=e.commit,i=e.dispatch,s=r.course_roads[r.viewing].requirements[t];n("_remove_requirement",t),n("_log",{undo:function(){n("_splice_requirement",{idx:t,requirement:s}),i("save")},redo:function(){n("_remove_requirement",t),i("save")}}),i("save")},save:function(e){var t=e.state,r=e.commit,n=t.undo_stack,i=t.idx;r("_set_stack",[]),r("_set_idx",-1);var s=JSON.stringify(t);r("_set_stack",n),r("_set_idx",i),localStorage.setItem(Zt,s)},load:function(e){var t=e.commit,r=localStorage.getItem(Zt);r&&(t("_load",JSON.parse(r)),t("_set_stack",[]))},undo:function(e){var t=e.commit;t("_undo")},redo:function(e){var t=e.commit;t("_redo")},update_unsat:function(e,t){var r=e.commit,n=e.dispatch;r("_update_unsat",t),n("save")},force_sat:function(e,t){var r=e.commit,n=e.dispatch;r("_force_sat",t),n("save"),r("_log",{undo:function(){r("_force_sat",{year:t.year,quarter:t.quarter,idx:t.idx,force:!t.force}),n("save")},redo:function(){r("_force_sat",t),n("save")}})},toggle_override:function(e,t){var r=e.commit,n=e.dispatch,i=t.idx;r("_toggle_override",t),n("save"),r("_log",{undo:function(){t.idx=i,r("_toggle_override",t),n("save")},redo:function(){t.idx=i,r("_toggle_override",t),n("save")}})},toggle_mode:function(e){var t=e.commit,r=e.dispatch;t("_toggle_mode"),r("save"),t("_log",{undo:function(){t("_toggle_mode"),r("save")},redo:function(){t("_toggle_mode"),r("save")}})}},namespaced:!0},er=function(){function e(e){this.reqs=e,this.loading=!1}return e}(),tr={manifest:new Map,title_search_trie:new re,manifest_tracker:0},rr=new Set(["by","of","in","as","the","and"]),nr={state:tr,getters:{autocomplete:function(e){var t=e.title_search_trie;return function(e){return t.autocomplete(e)}}},mutations:{_set_titles:function(e,t){var r=t.map((function(e){return new er(e)}));e.manifest_tracker=1,r.forEach((function(t){return e.manifest.set(t.reqs.list_id,t)}));for(var n=0,i=r;n<i.length;n++){for(var s=i[n],o=0,a=s.reqs.title.replace(/\(|\)|,/g,"").toLowerCase().split(" ").filter((function(e){return!rr.has(e)}));o<a.length;o++){var u=a[o];e.title_search_trie.get_or_set(u,new Set).add(s)}e.title_search_trie.get_or_set(s.reqs.short_title.toLowerCase(),new Set).add(s)}},_update:function(e,t){for(var r=0,n=t;r<n.length;r++){var i=n[r],s=e.manifest.get(i.list_id);s.reqs=i,s.loading=!1}e.manifest_tracker++},_load:function(e,t){var r=e.manifest;r.get(t).loading=!0}},actions:{init:function(e){var t=e.commit;return Object(p["b"])(this,void 0,void 0,(function(){var e;return Object(p["c"])(this,(function(r){switch(r.label){case 0:return[4,ie.all_titles()];case 1:return e=r.sent(),window.titles=e,t("_set_titles",e),[2]}}))}))},progress:function(e,t){e.commit;var r=e.dispatch,n=t.reqs,i=t.courses;return Object(p["b"])(this,void 0,void 0,(function(){var e,t,s;return Object(p["c"])(this,(function(o){switch(o.label){case 0:return e=Promise.all(n.map((function(e){return ie.progress(e,i).then((function(t){return t.list_id=e,t}))}))),t=r,s=["_delay_progress_input"],[4,e];case 1:return t.apply(void 0,s.concat([o.sent()])),[2]}}))}))},_delay_progress_input:function(e,t){var r=e.state,n=e.commit,i=e.dispatch;return Object(p["b"])(this,void 0,void 0,(function(){return Object(p["c"])(this,(function(e){return r.manifest_tracker?n("_update",t):i("_delay_progress_input",t),[2]}))}))}},namespaced:!0};n["a"].use(Dt["a"]);var ir=new Dt["a"].Store({state:{},mutations:{},actions:{},modules:{classes:Gt,roads:Xt,requirements:nr}});n["a"].config.productionTip=!1,new n["a"]({router:Vt,store:ir,render:function(e){return e(l)}}).$mount("#app")},d10d:function(e,t,r){},d1a9:function(e,t,r){},e105:function(e,t,r){},f58c:function(e,t,r){"use strict";var n=r("3344"),i=r.n(n);i.a},f7c9:function(e,t,r){"use strict";var n=r("289f"),i=r.n(n);i.a}});
//# sourceMappingURL=app-legacy.c3a11878.js.map