(function(e){function t(t){for(var n,o,a=t[0],u=t[1],c=t[2],l=0,f=[];l<a.length;l++)o=a[l],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==s[u]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},s={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/courses/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"034f":function(e,t,r){"use strict";var n=r("85ec"),s=r.n(n);s.a},"0b0a":function(e,t,r){},"0db6":function(e,t,r){"use strict";var n=r("7bda"),s=r.n(n);s.a},"1a3e":function(e,t,r){"use strict";var n=r("709b"),s=r.n(n);s.a},3344:function(e,t,r){},"34c3":function(e,t,r){"use strict";var n=r("0b0a"),s=r.n(n);s.a},"49d9":function(e,t,r){},5897:function(e,t,r){"use strict";var n=r("49d9"),s=r.n(n);s.a},"5d45":function(e,t,r){},"67ab":function(e,t,r){},"709b":function(e,t,r){},"7a0a":function(e,t,r){},"7bda":function(e,t,r){},"80cb":function(e,t,r){"use strict";var n=r("849e"),s=r.n(n);s.a},"849e":function(e,t,r){},"85ec":function(e,t,r){},"8b3c":function(e,t,r){},9036:function(e,t,r){"use strict";var n=r("67ab"),s=r.n(n);s.a},a1a1:function(e,t,r){"use strict";var n=r("b82b"),s=r.n(n);s.a},adb3:function(e,t,r){"use strict";var n=r("f3df"),s=r.n(n);s.a},b82b:function(e,t,r){},b96d:function(e,t,r){"use strict";var n=r("e105"),s=r.n(n);s.a},cc95:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},i=[],o=n["a"].extend({}),a=o,u=(r("034f"),r("2877")),c=Object(u["a"])(a,s,i,!1,null,null,null),d=c.exports,l=r("9483");Object(l["a"])("/courses/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var f=r("8c4f"),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{attrs:{dragging:e.dragging}},[r("requirements-vue",{attrs:{road:e.road,requirements:e.road?e.road.requirements:void 0,overrides:e.road?e.overrides:void 0},on:{"update-progresses":e.update_progresses}}),r("div",{staticClass:"gutter"}),r("section",[r("header-vue",{attrs:{viewing:e.viewing,road:e.road},on:{"load-course":e.inspect,"load-classes":e.load_classes,"graph-redraw":e.graph_redraw,"update-progresses":e.update_progresses,"compute-sat":e.compute_sat}}),e.road?r("div",{staticStyle:{overflow:"auto"}},[r("article",{staticClass:"road-display",attrs:{id:"drag-surface"},on:{mousemove:e.move}},[r("svg",{directives:[{name:"show",rawName:"v-show",value:e.graph_mode,expression:"graph_mode"}],attrs:{id:"graph"}}),r("prior-credit-vue",{attrs:{classes:e.road.prior_credit,placing:e.inspecting},on:{"remove-course":e.remove_course,"graph-redraw":e.graph_redraw,"drag-start":e.drag_start,"drag-move":e.drag_move,"drag-end":e.drag_end}}),e._l(e.road.years,(function(t,n){return r("year-vue",{key:"year "+n,attrs:{year:t,idx:n,placing:e.inspecting,allowed:e.allowed},on:{"remove-year":e.remove_year,"remove-course":e.remove_course,"graph-redraw":e.graph_redraw,"force-sat":function(t){return e.toggle_sat(t)},"drag-start":e.drag_start,"drag-move":e.drag_move,"drag-end":e.drag_end}})})),r("div",{staticClass:"add-year"},[r("action-button-vue",{attrs:{close:!1},on:{"button-click":e.add_year}})],1),e.tainted?r("mini-card-vue",{staticClass:"dragged",style:"transform:translate("+e.mouse.x+"px,"+e.mouse.y+"px)",attrs:{course_id:e.dragging,year:-1,quarter:-1,idx:-1}}):e._e()],2)]):r("article",{staticClass:"no-roads"},[r("i",[e._v("Let's get started!")])])],1),r("transition",{attrs:{name:"fade"}},[!e.dragging&&e.inspecting?r("info-vue",{staticClass:"info",attrs:{id:e.inspecting,max:e.maximize_info,idx:e.inspect_index,length:e.inspection_history.length},on:{"close-info":function(t){e.inspecting=""},"toggle-max":e.toggle_max,"push-course":e.push_course,"next-course":e.next_course,"prev-course":e.prev_course}}):e._e()],1)],1)},h=[],p=r("9ab4"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"prior-credit",on:{mouseup:e.outer_mouse_up,mousemove:function(t){return e.$emit("drag-move",{year:-1,quarter:0})}}},[r("span",{staticClass:"prior-credit-header",attrs:{collapsed:e.collapse},on:{mouseup:function(t){return t.stopPropagation(),e.header_mouse_up(t)}}},[r("b",[e._v("Prior Credit")]),r("p",[e._v(e._s(e.unit_count))]),r("span",{staticClass:"spacer"}),e.collapse?r("div",{staticClass:"collapsed-classes"},e._l(e.classes,(function(t,n){return r("mini-card-vue",{key:"Prior credit: "+n,attrs:{course_id:t,year:-1,quarter:0,idx:n},on:{"drag-start":function(t){return e.$emit("drag-start",t)}}})})),1):e._e()]),e.collapse?e._e():r("div",{staticClass:"prior-credit-classes",attrs:{allowed:!!e.placing,forbidden:e.forbidden}},e._l(e.classes,(function(t,n){return r("card-vue",{key:"Prior credit: "+n,attrs:{course_id:t,year:-1,quarter:0,idx:n},on:{"drag-start":function(t){return e.$emit("drag-start",t)},"remove-course":function(t){return e.remove(n)}}})})),1)])},v=[],g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{class:"mini-card "+e.course_id.name,style:"background-color:"+e.color+";",attrs:{title:e.course?e.name:"Loading Course Name...",id:JSON.stringify({year:e.year,quarter:e.quarter,idx:e.idx})},on:{mousedown:function(t){return e.$emit("drag-start",{year:e.year,quarter:e.quarter,idx:e.idx,name:e.course_id.name})}}},[r("h3",[e._v(e._s(e.course_id.name))])])},y=[],b="fireroad-dev.mit.edu",w=function(){function e(e){this._domain=e,this._protocol="https",this._port=443,this._path=[],this._query=[],this._fragment=""}return e.prototype.protocol=function(e){return this._protocol=e,this},e.prototype.port=function(e){return this._port=e,this},e.prototype.path=function(e){return this._path.push(e),this},e.prototype.query=function(e,t){return void 0===t&&(t=""),this._query.push([e,t]),this},e.prototype.anchor=function(e){return this._fragment=e,this},e.prototype.build=function(){var e=[this._protocol,"://",this._domain,":",this._port,"/",this._path.join("/"),"/"];return this._query.length&&e.push("?",this._query.map((function(e){return e.join("=")})).join("&")),this._fragment&&e.push("#",this._fragment),e.join("")},e.prototype.clone=function(){var t=new e(this._domain);return t._protocol=this._protocol,t._port=this._port,t._path=this._path.slice(0),t._query=this._query.slice(0),t._fragment=this._fragment,t},e}(),q=function(){function e(){}return e.protocol=function(t){return e.init().protocol(t)},e.port=function(t){return e.init().port(t)},e.path=function(t){return e.init().path(t)},e.query=function(t,r){return void 0===r&&(r=""),e.init().query(t,r)},e.anchor=function(t){return e.init().anchor(t)},e.build=function(){return e.init().build()},e.init=function(){return new w(e.domain)},e.domain=b,e}(),x=".server_connection_debug_file";function k(){localStorage.setItem(x,"File Start Time (UTC): "+(new Date).toUTCString()+"\n")}function O(e){localStorage.setItem(x,localStorage.getItem(x)+e+"\n")}function j(){console.debug(localStorage.getItem(x))}function C(e){O((new Date).toUTCString()+" - Error: "+e)}window.reset_debug_file=k,window.print_debug_file=j,null===localStorage.getItem(x)&&k();var S=r("a002"),$=r.n(S),I=".course_manifest",N=".course_metadata",E=".requirement_manifest",P=".requirement_metadata";function A(e){return Object(p["b"])(this,void 0,void 0,(function(){var t,r,n;return Object(p["c"])(this,(function(s){for(t=0,r=e;t<r.length;t++)n=r[t],$.a.setItem(n.subject_id,JSON.stringify(n));return $.a.setItem(I,JSON.stringify(e.map((function(e){return e.subject_id})))),$.a.setItem(N,(new Date).toUTCString()),F=e,[2]}))}))}function M(e){return Object(p["b"])(this,void 0,void 0,(function(){var t,r,n;return Object(p["c"])(this,(function(s){for(t=0,r=e;t<r.length;t++)n=r[t],$.a.setItem(n.list_id,JSON.stringify(n));return $.a.setItem(E,JSON.stringify(e.map((function(e){return e.list_id})))),$.a.setItem(P,(new Date).toUTCString()),D=e,[2]}))}))}function L(){return Object(p["b"])(this,void 0,Promise,(function(){var e;return Object(p["c"])(this,(function(t){switch(t.label){case 0:return[4,$.a.getItem(N)];case 1:return e=t.sent(),[2,e?new Date(Date.parse(e)):new Date(0)]}}))}))}function T(){return Object(p["b"])(this,void 0,Promise,(function(){var e;return Object(p["c"])(this,(function(t){switch(t.label){case 0:return[4,$.a.getItem(P)];case 1:return e=t.sent(),[2,e?new Date(Date.parse(e)):new Date(0)]}}))}))}function J(e){return Object(p["b"])(this,void 0,void 0,(function(){var t,r,n;return Object(p["c"])(this,(function(s){switch(s.label){case 0:return $.a.setItem(e.subject_id,JSON.stringify(e)),n=(r=JSON).parse,[4,$.a.getItem(I)];case 1:return t=n.apply(r,[s.sent()]),t.includes(e.subject_id)||(t.push(e.subject_id),$.a.setItem(I,JSON.stringify(t))),[2]}}))}))}function R(e){return Object(p["b"])(this,void 0,void 0,(function(){var t,r,n;return Object(p["c"])(this,(function(s){switch(s.label){case 0:return $.a.setItem(e.list_id,JSON.stringify(e)),n=(r=JSON).parse,[4,$.a.getItem(E)];case 1:return t=n.apply(r,[s.sent()]),t.includes(e.list_id)||(t.push(e.list_id),$.a.setItem(E,JSON.stringify(t))),[2]}}))}))}function V(e){return Object(p["b"])(this,void 0,Promise,(function(){var t,r;return Object(p["c"])(this,(function(n){switch(n.label){case 0:return r=(t=JSON).parse,[4,$.a.getItem(e)];case 1:return[2,r.apply(t,[n.sent()])]}}))}))}function B(e){return Object(p["b"])(this,void 0,Promise,(function(){var t,r;return Object(p["c"])(this,(function(n){switch(n.label){case 0:return r=(t=JSON).parse,[4,$.a.getItem(e)];case 1:return[2,r.apply(t,[n.sent()])]}}))}))}var F=void 0,D=void 0;function H(){return Object(p["b"])(this,void 0,Promise,(function(){var e,t,r,n,s;return Object(p["c"])(this,(function(i){switch(i.label){case 0:return e=F,e?[3,3]:(r=(t=Promise).all,s=(n=JSON).parse,[4,$.a.getItem(I)]);case 1:return[4,r.apply(t,[s.apply(n,[i.sent()]).map(V)])];case 2:e=F=i.sent(),i.label=3;case 3:return[2,e]}}))}))}function U(){return Object(p["b"])(this,void 0,Promise,(function(){var e,t,r,n,s;return Object(p["c"])(this,(function(i){switch(i.label){case 0:return e=D,e?[3,3]:(r=(t=Promise).all,s=(n=JSON).parse,[4,$.a.getItem(E)]);case 1:return[4,r.apply(t,[s.apply(n,[i.sent()]).map(B)])];case 2:e=D=i.sent(),i.label=3;case 3:return[2,e]}}))}))}function K(){return Object(p["b"])(this,void 0,void 0,(function(){return Object(p["c"])(this,(function(e){return $.a.clear(),[2]}))}))}window.clear_indexed_db=K,window.localForage=$.a;var z=function(){function e(){}return e.prototype.all=function(e){return Object(p["b"])(this,void 0,Promise,(function(){var t,r,n,s=this;return Object(p["c"])(this,(function(i){switch(i.label){case 0:t=window.fetch(q.path("courses").path("all").query("full",""+e).build()),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,t];case 2:return r=i.sent(),r.ok?[4,L()]:[3,4];case 3:return i.sent().getTime()<Date.now()-864e5&&window.fetch(q.path("courses").path("all").query("full","true").build()).then((function(e){return Object(p["b"])(s,void 0,void 0,(function(){var t;return Object(p["c"])(this,(function(r){switch(r.label){case 0:return e.ok?(t=A,[4,e.json()]):[3,2];case 1:t.apply(void 0,[r.sent()]),r.label=2;case 2:return[2]}}))}))})),[2,r.json()];case 4:return[3,6];case 5:return n=i.sent(),C(n),[3,6];case 6:return[2,H()]}}))}))},e.prototype.in_department=function(e,t){return Object(p["b"])(this,void 0,Promise,(function(){return Object(p["c"])(this,(function(r){switch(r.label){case 0:return[4,window.fetch(q.path("courses").path("dept").path(e).query("full",""+t).build())];case 1:return[2,r.sent().json()]}}))}))},e.prototype.load=function(e){return Object(p["b"])(this,void 0,Promise,(function(){var t,r,n,s;return Object(p["c"])(this,(function(i){switch(i.label){case 0:t=window.fetch(q.path("courses").path("lookup").path(e).build()),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,t];case 2:return r=i.sent(),r.ok?[4,r.json()]:[3,4];case 3:return n=i.sent(),J(n),[2,n];case 4:return[3,6];case 5:return s=i.sent(),C(s),[3,6];case 6:return[2,V(e)]}}))}))},e.prototype.search=function(e,t,r){return void 0===r&&(r={}),Object(p["b"])(this,void 0,Promise,(function(){var n;return Object(p["c"])(this,(function(s){switch(s.label){case 0:return n=q.path("courses").path("search").path(e).query("full",""+t),"type"in r&&n.query("type",r.type),"gir"in r&&n.query("gir",r.gir),"hass"in r&&n.query("hass",r.hass),"ci"in r&&n.query("ci",r.ci),"offered"in r&&n.query("offered",r.offered),"level"in r&&n.query("level",r.level),[4,window.fetch(n.build())];case 1:return[2,s.sent().json()]}}))}))},e}();function G(e){return void 0!==e.lecture_units}function Y(e,t,r,n,s){return n+(s-n)*(e-t)/(r-t)}function W(e){var t=parseInt(e,10),r=Number.isNaN(t)?30:Number(Y(t,1,24,0,1065).toFixed(0));return r}function Q(e){return void 0!==e.req}function Z(e){var t={};for(var r in e){var n=e[r];Array.isArray(n)?n=n.map(Z):"object"===typeof n&&(n=Z(n)),t[r.replace("-","_")]=n}return t}var X=function(){function e(){}return e.prototype.all_titles=function(){return Object(p["b"])(this,void 0,Promise,(function(){var e,t,r,n,s,i,o,a,u=this;return Object(p["c"])(this,(function(c){switch(c.label){case 0:e=window.fetch(q.path("requirements").path("list_reqs").build()),c.label=1;case 1:return c.trys.push([1,6,,7]),[4,e];case 2:return t=c.sent(),t.ok?[4,t.json()]:[3,5];case 3:for(s in r=c.sent(),n=[],r)i=r[s],n.push({list_id:s,short_title:i["short-title"],medium_title:i["medium-title"],title_no_degree:i["title-no-degree"],title:i.title});return o=q.path("requirements").path("get_json"),[4,T()];case 4:return c.sent().getTime()<Date.now()-864e5&&Promise.all(n.map((function(e){return window.fetch(o.clone().path(e.list_id).build())}))).then((function(e){return Object(p["b"])(u,void 0,void 0,(function(){var t,r=this;return Object(p["c"])(this,(function(s){switch(s.label){case 0:return t=M,[4,Promise.all(e.map((function(e,t){return Object(p["b"])(r,void 0,void 0,(function(){var r,s,i;return Object(p["c"])(this,(function(o){switch(o.label){case 0:return e.ok?(s=Z,i=[{}],[4,e.json()]):[3,2];case 1:return r=s.apply(void 0,[p["a"].apply(void 0,[p["a"].apply(void 0,i.concat([o.sent()])),{list_id:n[t].list_id}])]),[3,3];case 2:r=void 0,o.label=3;case 3:return[2,r]}}))}))})).filter((function(e){return void 0!==e})))];case 1:return[2,t.apply(void 0,[s.sent()])]}}))}))})),[2,n];case 5:return[3,7];case 6:return a=c.sent(),C(a),[3,7];case 7:return[2,U()]}}))}))},e.prototype.requirements=function(e){return Object(p["b"])(this,void 0,Promise,(function(){var t;return Object(p["c"])(this,(function(r){switch(r.label){case 0:return t=Z,[4,window.fetch(q.path("requirements").path("get_json").path(e).build())];case 1:return[4,r.sent().json()];case 2:return[2,t.apply(void 0,[r.sent()])]}}))}))},e.prototype.progress=function(e,t){return Object(p["b"])(this,void 0,Promise,(function(){var r,n,s,i,o,a;return Object(p["c"])(this,(function(u){switch(u.label){case 0:r=window.fetch(q.path("requirements").path("progress").path(e).build(),{method:"POST",body:JSON.stringify(t)}),u.label=1;case 1:return u.trys.push([1,6,,7]),[4,r];case 2:return n=u.sent(),n.ok?(i=Z,[4,n.json()]):[3,5];case 3:return[4,i.apply(void 0,[u.sent()])];case 4:return s=u.sent(),o=JSON.parse(JSON.stringify(s)),o.list_id=e,R(o),[2,s];case 5:return[3,7];case 6:return a=u.sent(),C(a),[3,7];case 7:return[2,B(e)]}}))}))},e}();function ee(e){return void 0!==e.reqs}function te(e){return void 0!==e.progress}var re=function(){function e(){this.count=0,this.children=new Map,this.value=void 0}return e.prototype.add=function(t,r){t.length?(this.children.has(t[0])||this.children.set(t[0],new e),this.children.get(t[0]).add(t.substring(1),r),this.count++):this.value=r},e.prototype.yield=function(){var e=[];return this._yield(e),e},e.prototype.autocomplete=function(e){var t=0,r=this;while(r&&t<e.length)r=r.children.get(e[t++]);return r?r.yield():[]},e.prototype.get_or_set=function(t,r){var n=0,s=this;while(n<t.length){var i=s.children.get(t[n]);void 0===i&&s.children.set(t[n],i=new e),n++,s=i}return void 0===s.value?(s.value=r,this.count++):r=s.value,r},e.prototype.get=function(e){var t=0,r=this;while(r&&t<e.length)r=r.children.get(e[t++]);return r&&r.value},e.prototype._yield=function(e){this.value&&e.push(this.value),this.children.forEach((function(t){return t._yield(e)}))},e}(),ne=new z,se=new X,ie=n["a"].extend({props:{course_id:Object,year:Number,quarter:Number,idx:Number},computed:{course:function(){return this.$store.getters["classes/class"](this.course_id.name)},name:function(){return this.course.title},color:function(){return"hsl("+W(this.course_id.name)+"deg, var(--saturate), var(--lightness))"}}}),oe=ie,ae=(r("34c3"),Object(u["a"])(oe,g,y,!1,null,"31bf558b",null)),ue=ae.exports,ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{class:"card "+e.course_id.name,style:"background-color:"+e.color+";",attrs:{title:e.course?e.name:"Loading Course Name...",id:JSON.stringify({year:e.year,quarter:e.quarter,idx:e.idx}),unsat:!e.unsafe_sat&&!e.course_id.force_sat&&!!e.course_id.unsat,"force-sat":!e.unsafe_sat&&e.course_id.force_sat},on:{mousedown:function(t){return e.$emit("drag-start",{year:e.year,quarter:e.quarter,idx:e.idx,name:e.course_id.name})}}},[r("h3",[e._v(" "+e._s(e.course_id.name)+" "),r("close-button-vue",{attrs:{close:!0,stop:!0,title:"Remove "+e.course_id.name},on:{"button-click":function(t){return e.$emit("remove-course")}}})],1),r("p",[e._v(e._s(e.course?e.display_name:"Loading Course Name..."))]),r("transition",{attrs:{name:"fade"}},[!e.unsafe_sat&&e.course_id.unsat?r("p",{staticClass:"unsat",attrs:{title:!e.unsafe_sat&&"Click to "+(e.course_id.force_sat?"show":"hide")+" warning"},on:{click:function(t){return t.stopPropagation(),e.$emit("force-sat",{year:e.year,quarter:e.quarter,idx:e.idx})},mousedown:function(e){e.stopPropagation()},mouseup:function(e){e.stopPropagation()}}},[e._v(e._s(e.course_id.force_sat?"":"Missing:\n"+e.course_id.unsat))]):e._e()])],1)},de=[],le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{attrs:{"open-button":!e.close},on:{click:function(t){return t.stopPropagation(),e.button_click(t)},mousedown:function(e){e.stopPropagation()},mouseup:function(e){e.stopPropagation()}}},[r("p",[e._v(e._s(e.close?"×":"+"))])])},fe=[],_e=n["a"].extend({props:{close:Boolean,stop:Boolean},methods:{button_click:function(e){this.$emit("button-click"),this.stop&&e.stopPropagation()}}}),he=_e,pe=(r("a1a1"),Object(u["a"])(he,le,fe,!1,null,"57fc3803",null)),me=pe.exports,ve=n["a"].extend({components:{CloseButtonVue:me},props:{course_id:Object,year:Number,quarter:Number,idx:Number},computed:{course:function(){return this.$store.getters["classes/class"](this.course_id.name)},name:function(){return this.course.title},display_name:function(){return this.truncate_name(this.name)},color:function(){return"hsl("+W(this.course_id.name)+"deg, var(--saturate), var(--lightness))"},unsafe_sat:function(){return!this.course||-1===this.year}},methods:{truncate_name:function(e){if(e.length<25)return e;for(var t=e.split(" "),r=0,n=0;n<t.length&&r<25;n++)r+=t[n].length;return t.slice(0,Math.max(n,2)).join(" ")+" ..."}}}),ge=ve,ye=(r("80cb"),Object(u["a"])(ge,ce,de,!1,null,"9e787ea2",null)),be=ye.exports,we=n["a"].extend({components:{MiniCardVue:ue,CardVue:be},props:{classes:Array,placing:String},data:function(){return{collapse:!1}},computed:{unit_count:function(){var e=this;if(!this.$store.state.classes.manifest_tracker)return"Loading Total Unit Count...";var t=this.classes.map((function(t){return e.$store.getters["classes/class"](t.name).total_units})).reduce((function(e,t){return e+t}),0);return"Units: "+t},forbidden:function(){var e=this;return-1!==this.classes.findIndex((function(t){return t.name===e.placing}))}},methods:{remove:function(e){this.$emit("remove-course",{year:-1,quarter:0,idx:e})},toggle_collapse:function(){this.collapse=!this.collapse,this.$emit("graph-redraw")},header_mouse_up:function(){this.placing?this.outer_mouse_up():this.toggle_collapse()},outer_mouse_up:function(){this.$emit("drag-end",{year:-1,quarter:0})}}}),qe=we,xe=(r("fe20"),Object(u["a"])(qe,m,v,!1,null,"1abdd609",null)),ke=xe.exports,Oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"year"},[r("span",{staticClass:"year-header",attrs:{collapsed:e.full_collapse},on:{mouseup:function(t){return t.stopPropagation(),e.year_header_up(t)}}},[r("b",[e._v(e._s("Year "+(e.idx+1)))]),r("span",{staticClass:"spacer"}),e.full_collapse?r("div",{staticClass:"collapsed-year"},e._l(e.courses,(function(t){return r("mini-card-vue",{key:"year "+e.idx+" quarter "+t.quarter+" course "+t.idx+" name "+t.course.name,attrs:{course_id:t.course,year:e.idx,quarter:t.quarter,idx:t.idx},on:{"drag-start":function(t){return e.$emit("drag-start",t)}}})})),1):e._e(),r("close-button-vue",{attrs:{close:!0},on:{"button-click":function(t){return e.$emit("remove-year",e.idx)}}})],1),e.full_collapse?e._e():r("article",{staticClass:"year-body"},e._l(e.year,(function(t,n){return r("section",{key:"year "+e.idx+" quarter "+n,staticClass:"quarter",on:{mouseup:function(t){return t.stopPropagation(),e.quarter_up(n)},mousemove:function(t){return e.$emit("drag-move",{year:e.idx,quarter:n})}}},[r("span",{staticClass:"quarter-header",attrs:{collapsed:e.collapsed[n]},on:{mouseup:function(t){return t.stopPropagation(),e.quarter_header_up(n)}}},[r("i",[e._v(e._s(e.quarter_label(n)))]),r("p",[e._v(e._s(e.unit_count(n)))]),r("p",[e._v(e._s(e.hour_count(n)))]),r("span",{staticClass:"spacer"}),e.collapsed[n]?r("div",{staticClass:"collapsed-quarter"},e._l(t,(function(t,s){return r("mini-card-vue",{key:"year "+e.idx+" quarter "+n+" course "+s,attrs:{course_id:t,year:e.idx,quarter:n,idx:s},on:{"drag-start":function(t){return e.$emit("drag-start",t)}}})})),1):e._e()]),e.collapsed[n]?e._e():r("div",{staticClass:"quarter-classes",attrs:{allowed:""!==e.placing&&e.allow(n),forbidden:""!==e.placing&&e.forbid(n),loading:""!==e.placing&&!e.allowed}},e._l(t,(function(t,s){return r("card-vue",{key:"year "+e.idx+" quarter "+n+" course "+s,attrs:{course_id:t,year:e.idx,quarter:n,idx:s},on:{"remove-course":function(t){return e.remove(e.idx,n,s)},"force-sat":function(t){return e.$emit("force-sat",t)},"drag-start":function(t){return e.$emit("drag-start",t)}}})})),1)])})),0)])},je=[],Ce=n["a"].extend({components:{MiniCardVue:ue,CardVue:be,CloseButtonVue:me},props:{year:Array,idx:Number,placing:String,allowed:Array},data:function(){return{collapsed:[!1,!0,!1,!0],full_collapse:!1}},computed:{courses:function(){return this.year.flatMap((function(e,t){return e.flatMap((function(e,r){return{quarter:t,idx:r,course:e}}))}))}},methods:{quarter_label:function(e){switch(e){case 0:return"Fall";case 1:return"IAP";case 2:return"Spring";case 3:return"Summer"}},allow:function(e){var t=this;return this.allowed&&this.allowed[e]&&-1===this.year[e].findIndex((function(e){return e.name===t.placing}))},forbid:function(e){var t=this;return this.allowed&&(!this.allowed[e]||-1!==this.year[e].findIndex((function(e){return e.name===t.placing})))},unit_count:function(e){var t=this;if(!this.$store.state.classes.manifest_tracker)return"Loading Total Unit Count...";var r=this.year[e].map((function(e){return t.$store.getters["classes/class"](e.name).total_units})).reduce((function(e,t){return e+t}),0);return"Units: "+r},hour_count:function(e){var t=this;if(!this.$store.state.classes.manifest_tracker)return"Loading Total Hour Count...";var r=this.year[e].map((function(e){return t.$store.getters["classes/class"](e.name)})).map((function(e){return void 0!==e.in_class_hours&&void 0!==e.out_of_class_hours?e.in_class_hours+e.out_of_class_hours:Number.NaN})),n=r.reduce((function(e,t){return e||Number.isNaN(t)}),!1),s=r.reduce((function(e,t){return e+t||0}),0);return"Hours: "+(n?"≥":"")+Number(s.toFixed(2))},remove:function(e,t,r){this.$emit("remove-course",{year:e,quarter:t,idx:r})},toggle_collapse:function(e){this.collapsed.splice(e,1,!this.collapsed[e]),this.$emit("graph-redraw",{year:this.idx,quarter:e})},toggle_full:function(){this.full_collapse=!this.full_collapse,this.$emit("graph-redraw",{year:this.idx,quarter:0})},year_header_up:function(){this.placing?this.full_collapse&&this.toggle_full():this.toggle_full()},quarter_up:function(e){this.$emit("drag-end",{year:this.idx,quarter:e})},quarter_header_up:function(e){this.placing?this.quarter_up(e):this.toggle_collapse(e)}}}),Se=Ce,$e=(r("eadd"),Object(u["a"])(Se,Oe,je,!1,null,"9ea4a84c",null)),Ie=$e.exports,Ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"info-card"},[r("span",{staticClass:"head",style:"--bg-color:"+e.compute_color(e.id),on:{dblclick:function(t){return e.$emit("toggle-max")}}},[r("h3",[e.idx>0?r("button",{staticClass:"prev",on:{click:function(t){return e.$emit("prev-course")}}},[r("div")]):e._e(),e._v(" "+e._s(e.id)+" "),e.idx<e.length-1?r("button",{staticClass:"next",on:{click:function(t){return e.$emit("next-course")}}},[r("div")]):e._e()]),r("close-button-vue",{attrs:{close:!0},on:{"button-click":function(t){return e.$emit("close-info")}}})],1),r("div",{staticClass:"body"},[r("h4",{staticClass:"title",attrs:{loading:!!e.course}},[e._v(e._s(e.course?e.course.title:"Loading Course Title..."))]),r("div",{staticClass:"details"},[r("div",{staticClass:"grid"},[r("h6",[e._v("Units")]),r("p",[e._v(e._s(e.unit_text))]),e.course.gir_attribute?[r("h6",[e._v("Fulfills:")]),r("p",[e._v("GIR:"+e._s(e.course.gir_attribute))])]:e._e(),e.course.hass_attribute?[r("h6",[e._v("HASS:")]),r("p",[e._v(e._s(e.course.hass_attribute+(e.course.communication_requirement?", "+e.course.communication_requirement:"")))])]:e._e(),r("h6",[e._v("Offered")]),r("p",[e._v(e._s(e.course?e.offered.join():"Loading Course Offerings..."))]),r("h6",[e._v(e._s(e.course&&e.course.instructors?1===e.course.instructors.length?"Instructor":"Instructors":"Instructor(s)"))]),r("p",[e._v(e._s(e.course?e.course.instructors?e.course.instructors.join():"Unknown":"Loading Instructor(s)..."))]),r("h6",[e._v("Average Enrollment")]),r("p",[e._v(e._s(e.is_full?(void 0===e.full_course.enrollment_number?"---":e.full_course.enrollment_number)+" students":"Loading Past Enrollment..."))]),r("h6",[e._v("Average Rating")]),r("p",[e._v(e._s(e.is_full?(void 0===e.full_course.rating?"---":e.full_course.rating)+"/7.0":"Loading Course Ratings..."))]),r("h6",[e._v("Hours")]),r("p",[e._v(e._s(e.hour_text))])],2),r("h5",[e._v("Description")]),r("div",{staticClass:"description"},[e._v(e._s(e.is_full?void 0===e.full_course.description?"No description available":e.full_course.description:"Loading Course Description..."))])]),e.is_full&&e.full_course.prerequisites?[r("h5",[e._v("Prerequisites"+e._s(e.is_full&&e.full_course.prerequisites?": "+e.prereq_text:""))]),r("div",{staticClass:"prereqs"},e._l(e.prerequisites,(function(t){return r("article",{key:t,style:"--bg-color:"+e.compute_color(t),attrs:{title:e.title(t,!1)},on:{click:function(r){return e.navigate(t)}}},[r("h6",[e._v(e._s(t))]),r("p",[e._v(e._s(e.title(t)))])])})),0)]:e._e(),e.is_full&&e.full_course.corequisites?[r("h5",[e._v("Corequisites"+e._s(e.is_full&&e.full_course.corequisites?": "+e.coreq_text:""))]),r("div",{staticClass:"coreqs"},e._l(e.corequisites,(function(t){return r("article",{key:t,style:"--bg-color:"+e.compute_color(t),on:{click:function(r){return e.navigate(t)}}},[r("h6",[e._v(e._s(t))]),r("p",[e._v(e._s(e.title(t)))])])})),0)]:e._e()],2)])},Ee=[];function Pe(e){switch(e){case"GIR:CAL2":return["18.02","18.022","18.02A","CC.1802","ES.1802","ES.182A"];case"GIR:CAL1":return["18.01","18.01A","ES.1801","ES.181A"];case"GIR:PHY1":return["8.01","8.011","8.012","8.01L","CC.801","CC.8012","ES.801","ES.8012"];case"GIR:PHY2":return["8.02","8.021","8.022","CC.802","CC.8022","ES.802","ES.8022"];case"GIR:CHEM":return["3.091","5.111","5.112","CC.5111","ES.5111","ES.5112"];case"GIR:BIOL":return["7.012","7.013","7.014","7.015","7.016","ES.7012","ES.7013"]}return[e]}var Ae=new Set(["(",")"," ",",","/","'",'"']),Me=new Map;function Le(e){if(Me.has(e))return Me.get(e);for(var t=[],r=[],n=0,s=e;n<s.length;n++){var i=s[n];if(Ae.has(i)){var o=t.join("").trim();o&&"permission"!==o&&"of"!==o&&"instructor"!==o&&"coreq:"!==o.toLowerCase()&&r.push(o),t.length=0}else t.push(i)}var a=t.join("").trim();a&&"permission"!==a&&"of"!==a&&"instructor"!==a&&r.push(a);var u=Array.from(new Set(r));return Me.set(e,u),u}var Te=function(){function e(e,t){this.or=e,this.reqs=t}return e.prototype.unsatisfied=function(e){if(this.or){for(var t=[],r=0,n=this.reqs;r<n.length;r++){var s=n[r];if("string"===typeof s){for(var i=Pe(s),o=0,a=i;o<a.length;o++){var u=a[o];if(e.has(u))return""}t.push(s)}else{var c=s.unsatisfied(e);if(!c)return"";t.push(c)}}return 1===t.length?t[0]:"("+t.join(" or ")+")"}t=[];for(var d=0,l=this.reqs;d<l.length;d++){s=l[d];if("string"===typeof s){i=Pe(s);for(var f=!1,_=0,h=i;_<h.length;_++){u=h[_];if(f=e.has(u))break}f||t.push(s)}else{c=s.unsatisfied(e);c&&t.push(c)}}return t.length?1===t.length?t[0]:"("+t.join(" and ")+")":""},e}(),Je=function(){function e(e){this.req=e}return e.prototype.unsatisfied=function(e){if("string"===typeof this.req){for(var t=Pe(this.req),r=0,n=t;r<n.length;r++){var s=n[r];if(e.has(s))return""}return this.req}return this.req.unsatisfied(e)},e}();function Re(e){return new Je(Ve(e,0)[0])}function Ve(e,t){for(var r=[],n=[],s="";t<e.length;t++){var i=e[t];if(","===i)n.push(r.join("")),r.length=0,s=i,t++;else if("/"===i)n.push(r.join("")),r.length=0,s=i;else if("("===i){var o=Ve(e,t+1);t=o[1],n.push(o[0])}else{if(")"===i)break;r.push(i)}}n.push(r.join(""));var a=n.filter((function(e){return e}));return[s?new Te("/"===s,a):a[0],t]}function Be(e){return-1!==e.indexOf("GIR")}window.reqparse=Re;var Fe=n["a"].extend({components:{CloseButtonVue:me},props:{id:String,idx:Number,length:Number},computed:{course:function(){return this.$store.getters["classes/class"](this.id)},full_course:function(){return this.course},is_full:function(){return!!this.course&&G(this.course)},unit_text:function(){return this.is_full?this.full_course.total_units+" Units : "+this.full_course.lecture_units+"-"+this.full_course.lab_units+"-"+(this.full_course.total_units-this.full_course.lecture_units-this.full_course.lab_units):this.course?this.full_course.total_units+" Units":"Loading Unit Count..."},offered:function(){var e=[];return this.course.offered_fall&&e.push("Fall"),this.course.offered_IAP&&e.push("IAP"),this.course.offered_spring&&e.push("Spring"),this.course.offered_summer&&e.push("Summer"),e},hour_text:function(){return this.is_full?(void 0!==this.full_course.in_class_hours&&void 0!==this.full_course.out_of_class_hours?Number((this.full_course.in_class_hours+this.full_course.out_of_class_hours).toFixed(2)):"---")+" total; "+(void 0!==this.full_course.in_class_hours?this.full_course.in_class_hours:"---")+" in class; "+(void 0!==this.full_course.out_of_class_hours?this.full_course.out_of_class_hours:"---")+" out of class":"Loading Course Hours..."},prerequisites:function(){return Le(this.full_course.prerequisites).filter((function(e){return-1!==e.indexOf(".")||e.includes("GIR")}))},corequisites:function(){return Le(this.full_course.corequisites).filter((function(e){return-1!==e.indexOf(".")||e.includes("GIR")}))},prereq_text:function(){return this.req_text(this.full_course.prerequisites)},coreq_text:function(){return this.req_text(this.full_course.corequisites)}},methods:{req_text:function(e){return e.trim().replace(/, /g," and ").replace(/\//g," or ")},title:function(e,t){return void 0===t&&(t=!0),this.$store.state.classes.manifest_tracker?Be(e)?"":t?this.truncate_name(this.$store.getters["classes/class"](e).title):this.course.title:"Loading Course Title..."},truncate_name:function(e,t){if(void 0===t&&(t=20),e.length<t)return e;for(var r=e.split(" "),n=0,s=0;s<r.length&&n<t;s++)n+=r[s].length;return r.slice(0,Math.max(s,2)).join(" ")+" ..."},navigate:function(e){Be(e)&&(e=Pe(e)[0]),this.$emit("push-course",e)},compute_color:function(e){return W(e)}}}),De=Fe,He=(r("1a3e"),Object(u["a"])(De,Ne,Ee,!1,null,"22d84f36",null)),Ue=He.exports,Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("span",{staticClass:"header"},[r("search-vue",{staticClass:"search",on:{"load-course":function(t){return e.$emit("load-course",t)}}})],1),r("nav",{staticClass:"roads"},[r("span",{staticClass:"road-list"},[e.road?e._l(e.road_names,(function(t,n){return r("span",{key:n,staticClass:"road-title",attrs:{selected:e.road.name===t},on:{click:function(t){return e.view(n)},dblclick:function(t){return e.edit(n)}}},[e.editing!==n?r("p",{staticClass:"road-text"},[r("b",[e._v(e._s(t))]),r("action-button-vue",{attrs:{close:!0},on:{"button-click":function(t){return e.remove_road(n)}}})],1):r("input",{directives:[{name:"model",rawName:"v-model",value:e.editing_text,expression:"editing_text"}],attrs:{type:"text",name:"road-editor",id:"road-editor"},domProps:{value:e.editing_text},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.finish_editing(t)},blur:e.finish_editing,click:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.editing_text=t.target.value)}}})])})):r("i",[e._v("Create a new road! ---\x3e")])],2),r("action-button-vue",{staticClass:"new-button",attrs:{close:!1},on:{"button-click":e.new_road}})],1)])},ze=[],Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-bar",on:{focusin:function(t){e.view_results=!0},focusout:function(t){e.view_results=!1}}},[r("label",[e._v(" Search for a course "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.search_text,expression:"search_text"}],attrs:{type:"text",name:"course-search",id:"course-search"},domProps:{value:e.search_text},on:{keydown:e.key,input:function(t){t.target.composing||(e.search_text=t.target.value)}}})]),r("div",[e._v(" HASS "),r("span",[r("button",{attrs:{on:"any"===e.filter.hass},on:{click:function(t){return e.toggle("hass","any")}}},[e._v("Any")]),r("button",{attrs:{on:"h"===e.filter.hass},on:{click:function(t){return e.toggle("hass","h")}}},[e._v("H")]),r("button",{attrs:{on:"a"===e.filter.hass},on:{click:function(t){return e.toggle("hass","a")}}},[e._v("A")]),r("button",{attrs:{on:"s"===e.filter.hass},on:{click:function(t){return e.toggle("hass","s")}}},[e._v("S")])])]),r("div",[e._v(" CI "),r("span",[r("button",{attrs:{on:"not-ci"===e.filter.ci},on:{click:function(t){return e.toggle("ci","not-ci")}}},[e._v("Not")]),r("button",{attrs:{on:"cih"===e.filter.ci},on:{click:function(t){return e.toggle("ci","cih")}}},[e._v("H")]),r("button",{attrs:{on:"cihw"===e.filter.ci},on:{click:function(t){return e.toggle("ci","cihw")}}},[e._v("HW")])])]),r("div",[e._v(" Offered "),r("span",[r("button",{attrs:{on:"fall"===e.filter.offered},on:{click:function(t){return e.toggle("offered","fall")}}},[e._v("Fall")]),r("button",{attrs:{on:"iap"===e.filter.offered},on:{click:function(t){return e.toggle("offered","iap")}}},[e._v("IAP")]),r("button",{attrs:{on:"spring"===e.filter.offered},on:{click:function(t){return e.toggle("offered","spring")}}},[e._v("Spring")]),r("button",{attrs:{on:"summer"===e.filter.offered},on:{click:function(t){return e.toggle("offered","summer")}}},[e._v("Summer")])])]),r("div",[e._v(" GIR "),r("span",[r("button",{attrs:{on:"any"===e.filter.gir},on:{click:function(t){return e.toggle("gir","any")}}},[e._v("Any")]),r("button",{attrs:{on:"lab"===e.filter.gir},on:{click:function(t){return e.toggle("gir","lab")}}},[e._v("Lab")]),r("button",{attrs:{on:"rest"===e.filter.gir},on:{click:function(t){return e.toggle("gir","rest")}}},[e._v("REST")])])]),(e.force_view||e.view_results)&&e.search_results.length?r("section",{staticClass:"results",on:{mouseenter:function(t){e.force_view=!0},mouseleave:function(t){e.force_view=!1}}},e._l(e.search_results,(function(t){return r("button",{key:t.subject_id,staticClass:"search-result",on:{click:function(r){return e.show(t)}}},[r("b",[e._v(e._s(t.subject_id))]),r("p",[e._v(e._s(t.title))])])})),0):e._e()])},Ye=[],We=n["a"].extend({data:function(){return{search_text:"",view_results:!1,timeout:0,filter:{gir:void 0,hass:void 0,ci:void 0,offered:void 0},force_view:!1}},computed:{trimmed:function(){return this.search_text.trim()},search_results:function(){return this.trimmed?this.$store.getters["classes/autocomplete"](this.trimmed.toUpperCase(),this.filter):[]}},methods:{show:function(e){this.$emit("load-course",e.subject_id),this.view_results=!1},key:function(e){var t=this;"Enter"===e.key?1===this.search_results.length||this.timeout&&this.search_results.length?this.show(this.search_results[0]):this.timeout=window.setTimeout((function(){return t.timeout=0}),500):(window.clearTimeout(this.timeout),this.timeout=0)},toggle:function(e,t){var r=this.filter;r[e]=r[e]===t?void 0:t}}}),Qe=We,Ze=(r("b96d"),Object(u["a"])(Qe,Ge,Ye,!1,null,"b6a1b7d6",null)),Xe=Ze.exports,et=n["a"].extend({components:{ActionButtonVue:me,SearchVue:Xe},props:{viewing:Number,road:Object},data:function(){return{editing:-1,editing_text:"Untitled"}},watch:{editing_text:function(e){this.editing>-1&&this.$store.dispatch("roads/update_name",{road:this.editing,name:this.editing_text})}},computed:{road_names:function(){return this.$store.state.roads.course_roads.map((function(e){return e.name}))}},methods:{finish_editing:function(){this.editing=-1,this.$store.dispatch("roads/save")},new_road:function(e){this.graph_redraw(),-1!==this.editing&&this.$store.dispatch("roads/save"),this.editing=this.$store.state.roads.course_roads.length,this.editing_text="Untitled",this.$store.dispatch("roads/new_road",this.editing_text),this.compute_sat()},remove_road:function(e){this.graph_redraw(),this.$store.dispatch("roads/delete_road",e),this.compute_sat()},view:function(e){e!==this.viewing&&(this.graph_redraw(),this.$store.dispatch("roads/view",e),-1!==this.editing&&this.$store.dispatch("roads/save"),this.editing=-1,this.load_classes(),this.update_progresses(),this.compute_sat())},edit:function(e){this.editing=e,this.editing_text=this.$store.state.roads.course_roads[e].name},graph_redraw:function(){this.$emit("graph-redraw")},load_classes:function(){this.$emit("load-classes")},update_progresses:function(){this.$emit("update-progresses")},compute_sat:function(){this.$emit("compute-sat")}}}),tt=et,rt=(r("9036"),Object(u["a"])(tt,Ke,ze,!1,null,"5e7257c0",null)),nt=rt.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("aside",{staticClass:"requirements"},[r("requirement-search-vue",{attrs:{disable:!e.road},on:{"load-requirement":e.add_requirement}}),e.road?r("section",{staticClass:"reqs"},e._l(e.requirements,(function(t,n){return r("requirement-tree-vue",{key:"Requirement "+t.name,attrs:{requirements:t,idx:n},on:{"remove-requirement":function(t){return e.remove_req(n)},"req-override":e.override}})})),1):r("section",{staticClass:"reqs"},[r("i",[e._v("Add some requirements!")])]),r("notes-vue",{attrs:{road:e.road}})],1)},it=[],ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.has_reqs?r("section",{staticClass:"tree"},[r("div",{staticClass:"progress",style:void 0!==e.reqs.reqs.percent_fulfilled&&"--progress:"+e.reqs.reqs.percent_fulfilled/100,attrs:{fulfilled:!!e.reqs.reqs.fulfilled,progress:void 0!==e.reqs.reqs.percent_fulfilled,highlight:0===e.reqs.reqs.percent_fulfilled&&!e.reqs.reqs.fulfilled}},[r("h2",{attrs:{collapsed:e.collapsed},on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(e._s(e.reqs.loading?"Loading Title...":e.reqs.reqs.short_title+" "+e.reqs.reqs.title))]),r("close-button-vue",{attrs:{close:!0},on:{"button-click":function(t){return e.$emit("remove-requirement")}}})],1),!e.has_progress&&!e.has_requirement||e.collapsed?e.collapsed?e._e():r("span",[e._v("Loading Requirements...")]):e._l(e.reqs.reqs.reqs,(function(t,n){return r("requirement-vue",{key:e.requirements.name+"."+n,attrs:{req:t,idx:e.idx,name:e.requirements.name+"."+n,overrides:e.requirements.overrides},on:{"req-override":function(t){return e.$emit("req-override",t)}}})}))],2):r("span",[e._v("Loading Requirements...")])},at=[],ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",[e.is_req?[r("h3",{staticClass:"req",attrs:{completed:e.req.fulfilled,override:e.can_override&&e.overriden},on:{click:e.override}},[e._v(e._s(e.req.req))])]:r("section",{staticClass:"children",attrs:{collapsed:e.collapsed}},[r("h3",{staticClass:"req-header",style:void 0!==e.req.percent_fulfilled&&"--progress:"+e.req.percent_fulfilled/100,attrs:{fulfilled:!!e.req.fulfilled,progress:void 0!==e.req.percent_fulfilled&&e.req.sat_courses.length>0},on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(" "+e._s(e.req.title)+" "),r("i",[e._v(e._s(e.req.threshold_desc)+" from")])]),e.collapsed?e._e():e._l(e.children,(function(t,n){return r("requirement-vue",{key:e.name+"."+n,attrs:{req:t,idx:e.idx,name:e.name+"."+n,overrides:e.overrides},on:{"req-override":function(t){return e.$emit("req-override",t)}}})}))],2)],2)},ct=[],dt=n["a"].extend({props:{req:Object,name:String,idx:Number,overrides:Array},data:function(){return{collapsed:!0}},computed:{is_req:function(){return Q(this.req)},children:function(){return this.req.reqs},can_override:function(){return this.is_req&&!!this.req.threshold},overriden:function(){var e=this;return-1!==this.overrides.findIndex((function(t){return e.name in t}))}},methods:{override:function(){if(this.can_override){var e={};e[this.name]=this.req.threshold.cutoff,e.idx=this.idx,this.$emit("req-override",e)}}},name:"requirement-vue"}),lt=dt,ft=(r("f58c"),Object(u["a"])(lt,ut,ct,!1,null,"c47b0c96",null)),_t=ft.exports,ht=n["a"].extend({components:{RequirementVue:_t,CloseButtonVue:me},props:{requirements:Object,idx:Number},data:function(){return{collapsed:!0}},computed:{reqs:function(){return this.$store.state.requirements.manifest.get(this.requirements.name)},has_requirement:function(){return this.$store.state.requirements.manifest_tracker&&ee(this.reqs.reqs)},has_progress:function(){return this.$store.state.requirements.manifest_tracker&&te(this.reqs.reqs)},as_progress:function(){return this.reqs.reqs},has_reqs:function(){return this.$store.state.requirements.manifest_tracker&&void 0!==this.reqs}}}),pt=ht,mt=(r("5897"),Object(u["a"])(pt,ot,at,!1,null,"0fc6c6b6",null)),vt=mt.exports,gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-bar",on:{click:function(t){e.view_results=!1}}},[r("label",[e._v(" Search for a requirement "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.search_text,expression:"search_text"}],attrs:{type:"text",name:"req-search",id:"req-search",disabled:e.disable},domProps:{value:e.search_text},on:{click:function(t){t.stopPropagation(),e.view_results=!0},keydown:e.key,input:function(t){t.target.composing||(e.search_text=t.target.value)}}})]),e.view_results&&e.search_results.length?r("section",{staticClass:"results"},e._l(e.search_results,(function(t){return r("button",{key:t.reqs.list_id,staticClass:"search-result",on:{click:function(r){return e.show(t)}}},[r("b",[e._v(e._s(t.reqs.medium_title))]),r("p",[e._v(e._s(t.reqs.title_no_degree))])])})),0):e._e()])},yt=[],bt=n["a"].extend({props:{disable:Boolean},data:function(){return{search_text:"",view_results:!1,ignore_set:new Set(["by","of","in","as","the","and"]),timeout:0}},computed:{trimmed:function(){return this.search_text.trim()},search_results:function(){var e=this;if(!this.trimmed)return[];var t=this.trimmed.replace(/\(|\)|,/g,"").toLowerCase().split(" ").filter((function(t){return!e.ignore_set.has(t)})),r=t.map((function(t){return e.$store.getters["requirements/autocomplete"](t)})),n=new Set(r.flatMap((function(e){return e.flatMap((function(e){return Array.from(e)}))})));return Array.from(n)}},methods:{show:function(e){this.$emit("load-requirement",e.reqs.list_id),this.view_results=!1},key:function(e){var t=this;"Enter"===e.key?1===this.search_results.length||this.timeout&&this.search_results.length?this.show(this.search_results[0]):this.timeout=window.setTimeout((function(){return t.timeout=0}),500):(window.clearTimeout(this.timeout),this.timeout=0)}}}),wt=bt,qt=(r("0db6"),Object(u["a"])(wt,gt,yt,!1,null,"1c39d774",null)),xt=qt.exports,kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.road?r("label",{staticClass:"notes",on:{click:function(t){e.editing=!0}}},[r("p",[e._v("Notes")]),e.editing?r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.notes,expression:"notes"}],attrs:{name:"notes",id:"notes",cols:"30",rows:"10"},domProps:{value:e.notes},on:{blur:function(t){e.editing=!1},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),void(e.editing=!1)):null},input:function(t){t.target.composing||(e.notes=t.target.value)}}}):r("iframe",{attrs:{srcdoc:e.document,frameborder:"0",sandbox:"allow-scripts"}})]):e._e()},Ot=[],jt=r("e0c1"),Ct=r.n(jt),St=n["a"].extend({props:{road:Object},data:function(){return{notes:"",editing:!1,saving:!1}},mounted:function(){this.road&&(this.notes=this.road.notes)},watch:{road:function(e,t){t&&(t.notes=this.notes,this.$store.dispatch("roads/save")),e&&(this.notes=e.notes)},notes:function(){this.save()}},computed:{dark_mode:function(){return this.$store.state.roads.dark_mode},style:function(){return"<style>html{color:hsl("+(this.dark_mode?"0, 0%, 93%":"0, 0%, 7%")+");background-color:hsl("+(this.dark_mode?"0, 0%, 7%":"0, 0%, 100%")+")}</style>"},document:function(){return"<!DOCTYPE html><html><head><title>Notes</title>"+this.style+"<head><body>"+this.compiled+"</body></html>"},compiled:function(){return Ct.a.parse(this.notes)}},methods:{save:function(){var e=this;if(!this.saving&&this.road){var t=this.road;this.$nextTick((function(){e.road===t&&(t.notes=e.notes,e.$store.dispatch("roads/save"),e.saving=!1)})),this.saving=!0}}}}),$t=St,It=(r("adb3"),Object(u["a"])($t,kt,Ot,!1,null,"ec17533a",null)),Nt=It.exports,Et=n["a"].extend({components:{RequirementTreeVue:vt,RequirementSearchVue:xt,NotesVue:Nt},props:{road:Object,requirements:Array,overrides:Object},methods:{add_requirement:function(e){this.$store.dispatch("roads/add_requirement",e),this.update_progresses()},remove_req:function(e){this.$store.dispatch("roads/remove_requirement",e)},override:function(e){var t=e.idx;this.$store.dispatch("roads/toggle_override",e),this.update_progresses(t)},update_progresses:function(e){void 0===e&&(e=-1),this.$emit("update-progresses",e)}}}),Pt=Et,At=(r("e5d3"),Object(u["a"])(Pt,st,it,!1,null,"0fa1504f",null)),Mt=At.exports,Lt="http://www.w3.org/2000/svg",Tt=new Map,Jt=new Map,Rt=new Map,Vt=[],Bt=new Set;function Ft(){var e=document.getElementById("graph"),t=document.createDocumentFragment();Vt.forEach((function(e){Bt.has(e)?Bt.delete(e):t.appendChild(e)})),e.appendChild(t),Bt.forEach((function(e){return e.remove()})),Vt.length=0,Bt.clear()}function Dt(){Vt.length||Bt.size||window.requestAnimationFrame((function(){return Ft()}))}function Ht(e){return Be(e)?Pe(e).flatMap((function(e){return Array.from(document.getElementsByClassName(e))})):Array.from(document.getElementsByClassName(e))}function Ut(e,t){return e.year<t.year?-1:t.year<e.year?1:e.quarter<t.quarter?-1:t.quarter<e.quarter?1:e.idx<t.idx?-1:t.idx<e.idx?1:0}function Kt(e,t){for(var r=Ht(e),n=void 0,s=void 0,i=0,o=r;i<o.length;i++){var a=o[i];if(t!==a){var u=JSON.parse(a.id);(!s||Ut(s,u)>0)&&(n=a,s=u)}}return n}var zt=4;function Gt(e,t){return[e[0]*(zt-1)/zt+t[0]/zt,e[1]/zt+t[1]*(zt-1)/zt]}function Yt(e,t,r,n){var s=document.createElementNS(Lt,"path");s.classList.add(r?"p-req":"c-req");var i=[e.offsetLeft+e.offsetWidth/2,e.offsetTop+e.offsetHeight/2],o=[t.offsetLeft+t.offsetWidth/2,t.offsetTop+t.offsetHeight/2];if(n){var a=Gt(i,o);s.setAttribute("d","M "+i[0]+" "+i[1]+" Q "+a[0]+" "+a[1]+","+o[0]+" "+o[1])}else s.setAttribute("d","M "+i[0]+" "+i[1]+" L "+o[0]+" "+o[1]);var u=JSON.parse(e.id),c=JSON.parse(t.id);return(r&&(u.year>c.year||u.year===c.year&&u.quarter>=c.quarter)&&-1!==c.year||!r&&(u.year>c.year||u.year===c.year&&u.quarter>c.quarter))&&s.setAttribute("style","stroke:red;"),s}function Wt(e,t,r){var n=Rt.get(t);if(n){if(n.has(e))return;n.set(e,r),n=Rt.get(e),n?n.set(t,r):Rt.set(e,new Map([[t,r]]))}else Rt.set(t,new Map([[e,r]])),n=Rt.get(e),n?n.set(t,r):Rt.set(e,new Map([[t,r]]));Dt(),Vt.push(r)}function Qt(e,t,r,n,s){var i=Kt(r);if(i){var o=JSON.stringify(t),a=document.getElementById(o),u=Yt(i,a,n,s);Wt(i.id,o,u);var c=n?Tt:Jt,d=Be(r)?Pe(r):[r],l=Be(e)?Pe(e):[e];d.forEach((function(e){var t=c.get(e);t||c.set(e,t=new Set),l.forEach((function(e){return t.add(e)}))}))}}function Zt(e,t,r,n){var s=JSON.stringify(t),i=document.getElementById(s),o=Kt(e,i);o&&tr(o.id),Array.from((r?Tt:Jt).get(e)||[]).flatMap((function(e){return Ht(e)})).forEach((function(e){return Wt(s,e.id,Yt(i,e,r,n))}))}function Xt(e,t,r,n,s){var i={year:e,quarter:t,idx:r};n.prerequisites&&Le(n.prerequisites).forEach((function(e){return Qt(n.subject_id,i,e,!0,s)})),n.corequisites&&Le(n.corequisites).forEach((function(e){return Qt(n.subject_id,i,e,!1,s)})),Zt(n.subject_id,i,!0,s),Zt(n.subject_id,i,!1,s)}function er(e,t,r){var n=JSON.stringify({year:e,quarter:t,idx:r});tr(n)}function tr(e){var t=Rt.get(e);t&&(t.forEach((function(t,r){Dt(),Bt.add(t),Rt.get(r).delete(e)})),Rt.delete(e))}var rr=n["a"].extend({created:function(){this.$store.dispatch("classes/init"),this.$store.dispatch("requirements/init")},components:{PriorCreditVue:ke,YearVue:Ie,InfoVue:Ue,ActionButtonVue:me,HeaderVue:nt,RequirementsVue:Mt,MiniCardVue:ue},mounted:function(){return Object(p["b"])(this,void 0,void 0,(function(){var e,t,r,n,s=this;return Object(p["c"])(this,(function(i){switch(i.label){case 0:return[4,this.$store.dispatch("roads/load")];case 1:return i.sent(),e=function(){return s.graph_redraw()},window.addEventListener("resize",e),this.road&&(this.graph_redraw(),this.load_classes(),this.update_progresses(),this.compute_sat()),t=function(e){"z"!==e.key||!e.ctrlKey&&!e.metaKey||e.altKey||e.shiftKey||(s.$store.dispatch("roads/undo"),s.graph_redraw(),s.update_progresses())},r=function(e){("Z"!==e.key&&"z"!==e.key||!e.shiftKey)&&("y"!==e.key||e.shiftKey)||!e.ctrlKey&&!e.metaKey||e.altKey||(s.$store.dispatch("roads/redo"),s.graph_redraw(),s.update_progresses())},n=function(e){!e.metaKey&&!e.ctrlKey||!e.shiftKey||"d"!==e.key&&"D"!==e.key||e.altKey||(s.toggle_mode(),e.preventDefault())},window.addEventListener("keydown",t),window.addEventListener("keydown",r),window.addEventListener("keydown",n),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e),window.removeEventListener("keydown",t),window.removeEventListener("keydown",r),window.removeEventListener("keydown",n)})),[2]}}))}))},data:function(){return{inspecting:"",inspection_history:[],maximize_info:!1,graph_mode:!0,cycling:new Set,cycle:0,progress_update:0,curvy:!0,sat_update:0,dragging:void 0,tainted:!1,mouse:{x:0,y:0},mouse_update_queued:!1}},computed:{viewing:function(){return this.$store.state.roads.viewing},road:function(){return this.$store.getters["roads/road"]},inspect_course:function(){return this.$store.getters["classes/class"](this.inspecting)},inspect_index:function(){return this.inspection_history.indexOf(this.inspecting)},allowed:function(){return this.inspect_course?[this.inspect_course.offered_fall,this.inspect_course.offered_IAP,this.inspect_course.offered_spring,this.inspect_course.offered_summer]:void 0},courses:function(){return this.road.years.flatMap((function(e){return e.flatMap((function(e){return e}))})).concat(this.road.prior_credit)},road_json:function(){var e=this,t=this.road.prior_credit.map((function(t,r){return e.make_class(t,0,-1,r)})),r=t.concat(this.road.years.flatMap((function(t,r){return t.flatMap((function(t,n){return t.map((function(t,s){return e.make_class(t,r,n,s)}))}))})));return{coursesOfStudy:this.road.requirements.map((function(e){return e.name})),progressOverrides:this.overrides,selectedSubjects:r}},overrides:function(){return this.road.requirements.flatMap((function(e){return e.overrides})).reduce((function(e,t){return Object.assign(e,t)}),{})}},methods:{inspect:function(e){this.$store.dispatch("classes/load",e),this.maximize_info=!!this.inspecting&&this.maximize_info,this.inspecting=e,this.inspection_history.splice(0,this.inspection_history.length,e)},close_info:function(){this.inspecting="",this.maximize_info=!1},toggle_max:function(){this.maximize_info=!this.maximize_info},add_year:function(){this.$store.dispatch("roads/add_year")},remove_year:function(e){this.$store.dispatch("roads/remove_year",e)},place:function(e,t){this.inspecting&&(this.graph_redraw({year:e,quarter:t}),this.$store.dispatch("roads/add_course",{year:e,quarter:t,course:this.inspecting}),this.close_info(),this.update_progresses(),this.compute_sat())},remove_course:function(e){var t=e.year,r=e.quarter,n=e.idx,s=-1===t?this.road.prior_credit[n].name:this.road.years[t][r][n].name;this.graph_redraw({year:t,quarter:r}),this.$store.dispatch("roads/remove_course",{year:t,quarter:r,idx:n}),this.inspect(s),this.update_progresses(),this.compute_sat()},push_course:function(e){this.inspection_history.splice(this.inspect_index+1,this.inspection_history.length,e),this.inspecting=e,this.$store.dispatch("classes/load",e)},next_course:function(){this.inspecting=this.inspection_history[Math.min(this.inspect_index+1,this.inspection_history.length-1)]},prev_course:function(){this.inspecting=this.inspection_history[Math.max(0,this.inspect_index-1)]},update_progresses:function(e){var t=this;void 0===e&&(e=-1),this.progress_update||(this.$store.state.classes.manifest_tracker?(this.$store.dispatch("requirements/progress",{reqs:-1===e?this.road.requirements.map((function(e){return e.name})):[this.road.requirements[e].name],progressOverrides:this.overrides,courses:this.road_json}),this.progress_update=0):this.progress_update=window.setTimeout((function(){t.progress_update=0,t.update_progresses()}),1e3))},load_classes:function(){var e=this;this.road&&this.courses.forEach((function(t){return e.$store.dispatch("classes/load",t.name)}))},make_class:function(e,t,r,n){return{id:e.name,index:4*t+1+r+n,overrideWarnings:!1,semester:4*t+1+r}},graph_redraw:function(e){var t=this,r=void 0===e?{year:-1,quarter:0}:e,n=r.year,s=r.quarter;this.road&&this.graph_detrack(n,s),this.$nextTick((function(){return t.road&&t.graph_retrack(n,s)}))},graph_courses:function(e,t){var r=[];return-1===e?r.push.apply(r,this.road.prior_credit.map((function(e,t){return{year:-1,quarter:0,idx:t,course:e.name}}))):r.push.apply(r,this.road.years[e].slice(t).flatMap((function(r,n){return r.map((function(r,s){return{year:e,quarter:t+n,idx:s,course:r.name}}))}))),r.push.apply(r,this.road.years.slice(++e).flatMap((function(t,r){return t.flatMap((function(t,n){return t.map((function(t,s){return{year:e+r,quarter:n,idx:s,course:t.name}}))}))}))),r},graph_detrack:function(e,t){var r=this;this.graph_courses(e,t).forEach((function(e){var t=JSON.stringify(e);r.cycling.delete(t)||er(e.year,e.quarter,e.idx)}))},graph_retrack:function(e,t){var r=this,n=this.graph_courses(e,t);this.cycling.size||(this.cycle=window.setTimeout((function(){return r._cycle_retrack()}),0)),n.forEach((function(e){return r.cycling.add(JSON.stringify(e))}))},_cycle_retrack:function(){var e=this,t=[],r=10;this.cycling.forEach((function(n){if(t.length<r){var s=JSON.parse(n),i=e.$store.getters["classes/class"](s.course);i&&G(i)&&t.push([s,i,n])}})),t.forEach((function(t){e.cycling.delete(t[2]),Xt(t[0].year,t[0].quarter,t[0].idx,t[1],e.curvy)})),this.cycling.size&&window.setTimeout((function(){return e._cycle_retrack()}),t.length===r?0:500)},toggle_curvy:function(){this.curvy=!this.curvy,this.graph_redraw()},compute_sat:function(){var e=this;this.sat_update||(this.sat_update=window.setTimeout((function(){return e._sat_recompute()}),0))},_sat_recompute:function(){for(var e=this,t=new Set,r=0,n=this.road.prior_credit;r<n.length;r++){var s=n[r];t.add(s.name);var i=this.$store.getters["classes/class"](s.name);if(!i||!G(i))return void(this.sat_update=window.setTimeout((function(){return e._sat_recompute()}),1e3));i.equivalent_subjects&&i.equivalent_subjects.forEach((function(e){return t.add(e)})),i.joint_subjects&&i.joint_subjects.forEach((function(e){return t.add(e)}))}for(var o=0;o<this.road.years.length;o++)for(var a=0;a<this.road.years[o].length;a++){for(var u=[],c=0,d=this.road.years[o][a];c<d.length;c++){s=d[c],i=this.$store.getters["classes/class"](s.name);if(!i||!G(i))return void(this.sat_update=window.setTimeout((function(){return e._sat_recompute()}),1e3));if(i.prerequisites){var l=Re(i.prerequisites).unsatisfied(t);u.push(l&&"Prerequisites: "+l)}else u.push("")}for(var f=0,_=this.road.years[o][a];f<_.length;f++){s=_[f];t.add(s.name)}for(var h=0;h<this.road.years[o][a].length;h++){i=this.$store.getters["classes/class"](this.road.years[o][a][h].name);if(i.corequisites){var p=Re(i.corequisites).unsatisfied(t);u[h]=u[h]?p?u[h]+"\nCorequisites:"+p:u[h]:p}}this.$store.dispatch("roads/update_unsat",{year:o,quarter:a,unsat:u})}this.sat_update=0},toggle_sat:function(e){e.force=!this.road.years[e.year][e.quarter][e.idx].force_sat,this.$store.dispatch("roads/force_sat",e)},toggle_mode:function(){this.$store.dispatch("roads/toggle_mode")},drag_start:function(e){this.tainted&&this.place(this.dragging.year,this.dragging.quarter),this.dragging=e,this.inspect(e.name),this.tainted=!1},drag_move:function(e){!this.tainted&&this.dragging&&(this.tainted=this.dragging.year!==e.year||this.dragging.quarter!==e.quarter,this.tainted&&this.remove_course(this.dragging))},drag_end:function(e){!this.inspecting||this.dragging&&!this.tainted||this.place(e.year,e.quarter),this.dragging&&!this.tainted&&this.inspect(this.dragging.name),this.dragging=void 0,this.tainted=!1},move:function(e){var t=this;if(!this.mouse_update_queued){e.target;this.$nextTick((function(){var r=document.getElementById("drag-surface").getBoundingClientRect();t.mouse.x=e.x-r.left,t.mouse.y=e.y-r.top,t.mouse_update_queued=!1})),this.mouse_update_queued=!0}}}}),nr=rr,sr=(r("eb48"),Object(u["a"])(nr,_,h,!1,null,"49ca1898",null)),ir=sr.exports;n["a"].use(f["a"]);var or,ar=[{path:"/",name:"core",component:ir}],ur=new f["a"]({mode:"history",base:"/courses/",routes:ar}),cr=ur,dr=r("2f62"),lr={manifest:new Map,loaded:new Set,manifest_tracker:0,id_search_trie:new re,title_search_trie:new re,access_log:new Map},fr=3,_r=new Set(["by","of","in","as","the","and"]),hr={state:lr,getters:{class:function(e){var t=e.manifest,r=e.manifest_tracker;return function(e){return r?t.get(e):void 0}},autocomplete:function(e){var t=e.id_search_trie,r=e.title_search_trie;return function(e,n){for(var s=t.autocomplete(e),i=e.toLowerCase().split(" ").filter((function(e){return!_r.has(e)})).flatMap((function(e){return r.autocomplete(e).flatMap((function(e){return Array.from(e)}))})),o=new Map,a=0,u=s;a<u.length;a++){var c=u[a];o.has(c)?o.set(c,o.get(c)+1):o.set(c,1)}for(var d=0,l=i;d<l.length;d++){c=l[d];o.has(c)?o.set(c,o.get(c)+1):o.set(c,1)}var f=Array.from(o).sort((function(e,t){return e[1]>t[1]?-1:e[1]<t[1]?1:0})).map((function(e){return e[0]})),_=[];if(n.ci){var h=function(e){return!e.communication_requirement};switch(n.ci){case"cih":h=function(e){return!!e.communication_requirement};break;case"cihw":h=function(e){return"CI-HW"===e.communication_requirement};break}_.push(h)}if(n.gir){h=function(e){return!!e.gir_attribute};switch(n.gir){case"lab":h=function(e){return!!e.gir_attribute&&e.gir_attribute.includes("LAB")};break;case"rest":h=function(e){return!!e.gir_attribute&&e.gir_attribute.includes("REST")};break}_.push(h)}if(n.hass){h=function(e){return!!e.hass_attribute};switch(n.hass){case"h":h=function(e){return!!e.hass_attribute&&e.hass_attribute.includes("HASS-H")};break;case"a":h=function(e){return!!e.hass_attribute&&e.hass_attribute.includes("HASS-A")};break;case"s":h=function(e){return!!e.hass_attribute&&e.hass_attribute.includes("HASS-S")};break}_.push(h)}if(n.offered)switch(n.offered){case"fall":_.push((function(e){return e.offered_fall}));break;case"iap":_.push((function(e){return e.offered_IAP}));break;case"spring":_.push((function(e){return e.offered_spring}));break;case"summer":_.push((function(e){return e.offered_summer}));break}return f.filter((function(e){return _.map((function(t){return t(e)})).reduce((function(e,t){return e&&t}),!0)}))}}},mutations:{_load:function(e,t){var r=e.loaded;r.add(t)},_access:function(e,t){var r=e.access_log,n=t.substring(0,t.indexOf("."));r.has(n)||r.set(n,new Set),r.get(n).add(t)},_set_course:function(e,t){e.manifest.set(t.subject_id,t),e.manifest_tracker+=1},_bulk_load:function(e,t){e.manifest=t,e.manifest_tracker=1,t.forEach((function(t,r){e.id_search_trie.add(r,t),t.title.split(" ").forEach((function(r){e.title_search_trie.get_or_set(r.toLowerCase(),new Set).add(t)}))}))}},actions:{init:function(e){var t=e.commit;return Object(p["b"])(this,void 0,void 0,(function(){var e,r;return Object(p["c"])(this,(function(n){switch(n.label){case 0:return[4,ne.all(!1)];case 1:return e=n.sent(),r=new Map(e.map((function(e){return[e.subject_id,e]}))),t("_bulk_load",r),[2]}}))}))},load:function(e,t){var r=e.state,n=e.commit,s=e.dispatch;return Object(p["b"])(this,void 0,void 0,(function(){var e,i,o,a,u;return Object(p["c"])(this,(function(c){switch(c.label){case 0:return e=t.substring(0,t.indexOf(".")),i=r.access_log.get(e),i&&!i.has(t)&&i.size===fr&&ne.in_department(e,!0).then((function(e){return s("_delay_dept_load",e)})),n("_access",t),o=r.manifest.get(t),o&&G(o)||r.loaded.has(t)?[3,2]:(n("_load",t),a=s,u=["_delay_manifest_load"],[4,ne.load(t)]);case 1:a.apply(void 0,u.concat([c.sent()])),c.label=2;case 2:return[2]}}))}))},_delay_manifest_load:function(e,t){var r=e.state,n=e.commit,s=e.dispatch;r.manifest_tracker?n("_set_course",t):window.setTimeout((function(){return s("_delay_manifest_load",t)}),1e3)},_delay_dept_load:function(e,t){var r=e.state,n=e.commit,s=e.dispatch;r.manifest_tracker?t.forEach((function(e){return n("_set_course",e)})):window.setTimeout((function(){return s("_delay_dept_load",t)}),1e3)}},namespaced:!0};function pr(){return[[],[],[],[]]}(function(e){e[e["FALL"]=0]="FALL",e[e["IAP"]=1]="IAP",e[e["SPRING"]=2]="SPRING",e[e["SUMMER"]=3]="SUMMER"})(or||(or={}));var mr=function(){function e(e){this.name=e,this.years=[pr(),pr(),pr(),pr(),pr()],this.prior_credit=[],this.requirements=[],this.notes=""}return e}(),vr={course_roads:[],viewing:-1,undo_stack:[],idx:-1,dark_mode:!1},gr=".roads",yr={state:vr,getters:{road:function(e){var t=e.course_roads,r=e.viewing;return-1===r?void 0:t[r]}},mutations:{_new_road:function(e,t){e.viewing=e.course_roads.length,e.course_roads.push(new mr(t))},_splice_road:function(e,t){var r=t.road,n=t.idx;e.viewing=n,e.course_roads.splice(n,0,r)},_view:function(e,t){e.viewing=Math.max(Math.min(t,e.course_roads.length-1),e.course_roads.length?0:-1)},_update_name:function(e,t){var r=e.course_roads,n=t.road,s=t.name;r[n].name=s},_delete_road:function(e,t){e.viewing===t&&(0===t?e.viewing=e.course_roads.length>1?0:-1:e.viewing===e.course_roads.length-1&&e.viewing--),e.course_roads.splice(t,1)},_add_year:function(e){var t=e.course_roads,r=e.viewing;t[r].years.push(pr())},_splice_year:function(e,t){var r=e.course_roads,n=e.viewing,s=t.idx,i=t.year;r[n].years.splice(s,0,i)},_remove_year:function(e,t){var r=e.course_roads,n=e.viewing;r[n].years.splice(t,1)},_add_course:function(e,t){for(var r=e.course_roads,n=e.viewing,s=t.year,i=t.quarter,o=t.course,a=-1===s?r[n].prior_credit:r[n].years[s][i],u=[parseInt(o,10)||Number.POSITIVE_INFINITY,parseFloat(o.substring(o.indexOf(".")))||Number.POSITIVE_INFINITY],c=0;c<a.length;c++){var d=[parseInt(a[c].name,10)||Number.POSITIVE_INFINITY,parseFloat(a[c].name.substring(a[c].name.indexOf(".")))||Number.POSITIVE_INFINITY];if(u[0]<d[0]||u[0]===d[0]&&u[1]<d[1])return void a.splice(c,0,{name:o,unsat:"",force_sat:!1})}a.push({name:o,unsat:"",force_sat:!1})},_splice_course:function(e,t){var r=e.course_roads,n=e.viewing,s=t.year,i=t.quarter,o=t.idx,a=t.course;-1===s?r[n].prior_credit.splice(o,0,a):r[n].years[s][i].splice(o,0,a)},_remove_course:function(e,t){var r=e.course_roads,n=e.viewing,s=t.year,i=t.quarter,o=t.idx;-1!==s?r[n].years[s][i].splice(o,1):r[n].prior_credit.splice(o,1)},_add_requirement:function(e,t){var r=e.course_roads,n=e.viewing,s=r[n].requirements;s.includes(t)||s.push(t)},_splice_requirement:function(e,t){var r=e.course_roads,n=e.viewing,s=t.idx,i=t.requirement;r[n].requirements.splice(s,0,i)},_remove_requirement:function(e,t){var r=e.course_roads,n=e.viewing;r[n].requirements.splice(t,1)},_load:function(e,t){for(var r=0,n=t.course_roads;r<n.length;r++){var s=n[r];s.notes||(s.notes="")}e.course_roads=t.course_roads,e.viewing=t.viewing,e.dark_mode=t.dark_mode,document.getElementById("app").classList.toggle("dark-mode",e.dark_mode)},_set_stack:function(e,t){e.undo_stack=t},_set_idx:function(e,t){e.idx=t},_log:function(e,t){e.idx++>-1?e.undo_stack.splice(e.idx,e.undo_stack.length,t):e.undo_stack.push(t)},_undo:function(e){e.idx>-1&&e.undo_stack[e.idx--].undo()},_redo:function(e){e.idx<e.undo_stack.length-1&&e.undo_stack[++e.idx].redo()},_update_unsat:function(e,t){for(var r=e.course_roads,n=e.viewing,s=t.year,i=t.quarter,o=t.unsat,a=r[n].years[s][i],u=0;u<a.length;u++)a[u].unsat=o[u]},_force_sat:function(e,t){var r=e.course_roads,n=e.viewing,s=t.year,i=t.quarter,o=t.idx,a=t.force;r[n].years[s][i][o].force_sat=a},_toggle_override:function(e,t){var r=e.course_roads,n=e.viewing,s=r[n].requirements[t.idx].overrides;delete t.idx;for(var i=0;i<s.length;i++)for(var o in s[i])if(o in t)return void s.splice(i,1);s.push(t)},_toggle_mode:function(e){e.dark_mode=!e.dark_mode,document.getElementById("app").classList.toggle("dark-mode",e.dark_mode)}},actions:{new_road:function(e,t){var r=e.state,n=e.commit,s=e.dispatch,i=r.course_roads.length;n("_new_road",t),n("_log",{redo:function(){n("_new_road",t),s("save")},undo:function(){n("_delete_road",i),s("save")}}),s("save")},view:function(e,t){var r=e.state,n=e.commit,s=e.dispatch,i=r.viewing;n("_view",t),n("_log",{undo:function(){n("_view",i),s("save")},redo:function(){n("_view",t),s("save")}}),s("save")},update_name:function(e,t){var r=e.state,n=e.commit,s=e.dispatch,i=r.course_roads[t.road].name;n("_update_name",t),n("_log",{undo:function(){n("_update_name",{road:t.road,name:i}),s("save")},redo:function(){n("_update_name",t),s("save")}})},delete_road:function(e,t){var r=e.state,n=e.commit,s=e.dispatch,i=r.course_roads[t];n("_delete_road",t),n("_log",{undo:function(){n("_splice_road",{road:i,idx:t}),s("save")},redo:function(){n("_delete_road",t),s("save")}}),s("save")},add_year:function(e){var t=e.state,r=e.commit,n=e.dispatch,s=t.course_roads[t.viewing].years.length;r("_add_year"),n("save"),r("_log",{undo:function(){r("_remove_year",s),n("save")},redo:function(){r("_add_year"),n("save")}})},remove_year:function(e,t){var r=e.state,n=e.commit,s=e.dispatch,i=r.course_roads[r.viewing].years[t];n("_remove_year",t),s("save"),n("_log",{undo:function(){n("_splice_year",{idx:t,year:i}),s("save")},redo:function(){n("_remove_year",t),s("save")}})},add_course:function(e,t){var r=e.state,n=e.commit,s=e.dispatch,i=void 0;n("_add_course",t);var o=(-1===t.year?r.course_roads[r.viewing].prior_credit:r.course_roads[r.viewing].years[t.year][t.quarter]).indexOf(i);n("_log",{redo:function(){n("_splice_course",Object(p["a"])(Object(p["a"])({},t),{idx:o,course:i})),s("save")},undo:function(){i=r.course_roads[r.viewing].years[t.year][t.quarter][o],n("_remove_course",{year:t.year,quarter:t.quarter,idx:o}),s("save")}}),s("save")},remove_course:function(e,t){var r=e.state,n=e.commit,s=e.dispatch,i=-1===t.year?r.course_roads[r.viewing].prior_credit[t.idx]:r.course_roads[r.viewing].years[t.year][t.quarter][t.idx];n("_remove_course",t),n("_log",{undo:function(){n("_splice_course",Object(p["a"])(Object(p["a"])({},t),{course:i})),s("save")},redo:function(){n("_remove_course",t),s("save")}}),s("save")},add_requirement:function(e,t){for(var r=e.state,n=e.commit,s=e.dispatch,i=r.course_roads[r.viewing].requirements.length,o=0,a=r.course_roads[r.viewing].requirements;o<a.length;o++){var u=a[o];if(u.name===t)return}n("_add_requirement",{name:t,overrides:[]}),n("_log",{undo:function(){n("_remove_requirement",i),s("save")},redo:function(){n("_add_requirement",{name:t,overrides:[]}),s("save")}}),s("save")},remove_requirement:function(e,t){var r=e.state,n=e.commit,s=e.dispatch,i=r.course_roads[r.viewing].requirements[t];n("_remove_requirement",t),n("_log",{undo:function(){n("_splice_requirement",{idx:t,requirement:i}),s("save")},redo:function(){n("_remove_requirement",t),s("save")}}),s("save")},save:function(e){var t=e.state,r=e.commit,n=t.undo_stack,s=t.idx;r("_set_stack",[]),r("_set_idx",-1);var i=JSON.stringify(t);r("_set_stack",n),r("_set_idx",s),localStorage.setItem(gr,i)},load:function(e){var t=e.commit,r=localStorage.getItem(gr);r&&(t("_load",JSON.parse(r)),t("_set_stack",[]))},undo:function(e){var t=e.commit;t("_undo")},redo:function(e){var t=e.commit;t("_redo")},update_unsat:function(e,t){var r=e.commit,n=e.dispatch;r("_update_unsat",t),n("save")},force_sat:function(e,t){var r=e.commit,n=e.dispatch;r("_force_sat",t),n("save"),r("_log",{undo:function(){r("_force_sat",{year:t.year,quarter:t.quarter,idx:t.idx,force:!t.force}),n("save")},redo:function(){r("_force_sat",t),n("save")}})},toggle_override:function(e,t){var r=e.commit,n=e.dispatch,s=t.idx;r("_toggle_override",t),n("save"),r("_log",{undo:function(){t.idx=s,r("_toggle_override",t),n("save")},redo:function(){t.idx=s,r("_toggle_override",t),n("save")}})},toggle_mode:function(e){var t=e.commit,r=e.dispatch;t("_toggle_mode"),r("save"),t("_log",{undo:function(){t("_toggle_mode"),r("save")},redo:function(){t("_toggle_mode"),r("save")}})}},namespaced:!0},br=function(){function e(e){this.reqs=e,this.loading=!1}return e}(),wr={manifest:new Map,title_search_trie:new re,manifest_tracker:0},qr=new Set(["by","of","in","as","the","and"]),xr={state:wr,getters:{autocomplete:function(e){var t=e.title_search_trie;return function(e){return t.autocomplete(e)}}},mutations:{_set_titles:function(e,t){var r=t.map((function(e){return new br(e)}));e.manifest_tracker=1,r.forEach((function(t){return e.manifest.set(t.reqs.list_id,t)}));for(var n=0,s=r;n<s.length;n++){for(var i=s[n],o=0,a=i.reqs.title.replace(/\(|\)|,/g,"").toLowerCase().split(" ").filter((function(e){return!qr.has(e)}));o<a.length;o++){var u=a[o];e.title_search_trie.get_or_set(u,new Set).add(i)}e.title_search_trie.get_or_set(i.reqs.short_title.toLowerCase(),new Set).add(i)}},_update:function(e,t){for(var r=0,n=t;r<n.length;r++){var s=n[r],i=e.manifest.get(s.list_id);i.reqs=s,i.loading=!1}e.manifest_tracker++},_load:function(e,t){var r=e.manifest;r.get(t).loading=!0}},actions:{init:function(e){var t=e.commit;return Object(p["b"])(this,void 0,void 0,(function(){var e;return Object(p["c"])(this,(function(r){switch(r.label){case 0:return[4,se.all_titles()];case 1:return e=r.sent(),window.titles=e,t("_set_titles",e),[2]}}))}))},progress:function(e,t){e.commit;var r=e.dispatch,n=t.reqs,s=t.courses;return Object(p["b"])(this,void 0,void 0,(function(){var e,t,i;return Object(p["c"])(this,(function(o){switch(o.label){case 0:return e=Promise.all(n.map((function(e){return se.progress(e,s).then((function(t){return t.list_id=e,t}))}))),t=r,i=["_delay_progress_input"],[4,e];case 1:return t.apply(void 0,i.concat([o.sent()])),[2]}}))}))},_delay_progress_input:function(e,t){var r=e.state,n=e.commit,s=e.dispatch;return Object(p["b"])(this,void 0,void 0,(function(){return Object(p["c"])(this,(function(e){return r.manifest_tracker?n("_update",t):s("_delay_progress_input",t),[2]}))}))}},namespaced:!0};n["a"].use(dr["a"]);var kr=new dr["a"].Store({state:{},mutations:{},actions:{},modules:{classes:hr,roads:yr,requirements:xr}});n["a"].config.productionTip=!1,new n["a"]({router:cr,store:kr,render:function(e){return e(d)}}).$mount("#app")},e105:function(e,t,r){},e5d3:function(e,t,r){"use strict";var n=r("5d45"),s=r.n(n);s.a},eadd:function(e,t,r){"use strict";var n=r("7a0a"),s=r.n(n);s.a},eb48:function(e,t,r){"use strict";var n=r("cc95"),s=r.n(n);s.a},f3df:function(e,t,r){},f58c:function(e,t,r){"use strict";var n=r("3344"),s=r.n(n);s.a},fe20:function(e,t,r){"use strict";var n=r("8b3c"),s=r.n(n);s.a}});
//# sourceMappingURL=app.9bc014ac.js.map